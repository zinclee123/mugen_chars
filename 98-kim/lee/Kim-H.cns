

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ヘルパー
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ＫＯ勝利演出・待機
[Statedef 13020]
type = A
ctrl = 0
anim = 13010
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
;---------------------[移動関係]
[state a]
type = bindtoroot
trigger1 = 1
pos = 0,0

;---------------------[透過]
;---------------------[]
[state a]
type = changestate
trigger1 = winko
value = 13011

[State 3020, 1]
type = DestroySelf
trigger1 = root,StateNo != [2700,2710]
trigger2 = root,StateNo != [2600,2715]

;----------------------------------------------------------------------------
;(HELPER)ＫＯ勝利演出・通常
[Statedef 130119]
type = A
ctrl = 0
anim = 13010
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
;---------------------[移動関係]
[state a]
type = bindtoroot
trigger1 = 1
pos = 0,0

;---------------------[効果音]
[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 12, 0

[State 200, 1];
type = PlaySnd
trigger1 = time = 0
value = 12, 1

;---------------------[エフェクト]
[State 3040, 7];画面フラッシュ
type = EnvColor
trigger1 = time % 9 = 0
trigger1 = time <= 33
;persistent = 0
;ignorehitpause = 1
time = 3
value = 0,0,0
under = 1

[State 3040, 7];画面フラッシュ
type = EnvColor
trigger1 = time % 9 = 3
trigger1 = time <= 33
;persistent = 0
;ignorehitpause = 1
time = 3
value = 255,0,0
under = 1

[State 3040, 7];画面フラッシュ
type = EnvColor
trigger1 = time % 9 = 6
trigger1 = time <= 33
;persistent = 0
;ignorehitpause = 1
time = 3
value = 255,255,255
under = 1





;----------------------------------------------------------------------------

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;(HELPER)MAX2・カットイン
[Statedef 13030]
type = S
ctrl = 0
anim = 13030
velset = 0,0
movetype = I
physics = N
sprpriority = -95

[state a]
type = posset
trigger1 = facing = 1
x = -160
y = pos y - screenpos y + 95

[state a]
type = posset
trigger1 = facing = -1
x = 160
y = pos y - screenpos y + 95

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = animelem = 5,>0
v = 1
value = 1

;---------------------[ヘルパー]
[state a];カットイン
type = null;Helper
trigger1 = time = 0
id = 13040
name = "cut"
pos = 0 , 0
postype = p1
stateno = 8105
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = varadd
trigger1 = animelem = 23,>0
v = 2
value = 1

[state a]
type = angledraw
trigger1 = animelem = 23,>=0
scale = 1.0,1.0 - var(2)*0.1


;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H

;---------------------------------------------------------------------------
;(HELPER)MAX2・カットイン・顔
[Statedef 13040]
type = S
ctrl = 0
anim = 9999;13040
velset = 0,0
movetype = I
physics = N
sprpriority = -85

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
trigger13 = enemy, authorname = ".\/."
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
trigger13 = enemy, authorname = ".\/."
var(0) = 1

[state ]
type = varset
var(1) = 1;numexplod(13031)
trigger1 = numexplod(13031) > 0

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(13031)
triggerall = teamside = 1
trigger1 = !time
anim = 13031
ID = 13031
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = 9999
supermovetime = 9999
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(13032)
triggerall = teamside = 2
trigger1 = !time
anim = 13032
ID = 13032
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = 9999
supermovetime = 9999
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(13033)
triggerall = teamside = 1
trigger1 = !time
anim = 13033
ID = 13033
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = 9999
supermovetime = 9999
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(13034)
triggerall = teamside = 2
trigger1 = !time
anim = 13033
ID = 13034
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = 9999
supermovetime = 9999
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 13031
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 13031
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 13031
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 13031
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 13031
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 13031
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 13031
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 13031
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 13032
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 13032
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 13032
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 13032
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 13032
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 13032
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 13032
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 13032
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 13033
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 13033
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 13033
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 13033
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 13033
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 13033
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 13033
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 13033
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 13034
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 13034
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 13034
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 13034
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 13034
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 13034
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 13034
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 13034
scale = 1,1

[state ]
type = removeexplod
trigger1 = time >= 60
trigger2 = root,movetype = H

;---------------------[]
[state a]
type = destroyself
;trigger1 = animtime = 0
trigger1 = time >= 60
trigger2 = root,movetype = H


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
; MAX2
[Statedef 13010]
type = A
movetype = I
physics = N
anim = 13010
velset = 0, 0
ctrl = 0
sprpriority = -99

[State 1000: Helper]
type = Helper
trigger1 = 1
helpertype = Normal
name = "Close-Up"
id = 13040
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 13040
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 1000: Helper]
type = null;Helper
trigger1 = 1
helpertype = Normal
name = "Close-Up Back"
id = 13030
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 13030
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 3020, 1]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13011
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13011
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13012
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13012
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13013
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13013
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13014
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13014
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13015
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13015
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0


[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13016
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13016
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0


[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13017
id = 13010
postype = back
pos = 0, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13017
id = 13010
postype = back
pos = -320, 0
bindtime = -1
removetime = -1
sprpriority = -999
supermovetime = 999
persistent = 0


[State 3020, 1]
type = RemoveExplod
trigger1 = root,StateNo != [2600,2610]
trigger1 = root,stateno != [2650,2652]
trigger1 = root,stateno != [2800,2810]
ID = 13010

[State 3020, 1]
type = changestate
trigger1 = root,StateNo != [2600,2610]
trigger1 = root,stateno != [2650,2652]
trigger1 = root,StateNo != [2700,2720]
trigger1 = root,stateno != [2800,2810]
;
trigger2 = root,stateno = 2610
trigger2 = root,animelem = 61,>0
trigger2 = root,stateno != 2800
;
trigger3 = root,stateno = 2652
trigger3 = root,movehit
;
trigger4 = root,stateno = 2810
trigger4 = root,movehit
;
value = 13011

;-------------------------------
[Statedef 13011]
type = A
movetype = I
physics = N
anim = 13010
velset = 0, 0
ctrl = 0
sprpriority = -99

[State 3020, 1]
type = null;AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

;---------------------[エフェクト]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 256

[state a]
type = varadd
trigger1 = time <= 32
v = 1
value = -8

[State a];暗転
type = BGPalfx
trigger1 = time <= 32
time = 1
add = var(1),var(1),var(1)
invertall = 0
color = 256

;---------------------[効果音]
[State a];
type = PlaySnd
trigger1 = time = 0
value = 8000,0

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 13020
id = 13020
postype = back
pos = 0, 0
bindtime = -1
sprpriority = -999
supermovetime = 999
trans = addalpha
alpha = 245,150
persistent = 0

[State 3020, 1]
type = RemoveExplod
trigger1 = time = 0
ID = 13010

[State 3020, 1]
type = DestroySelf
trigger1 = time = 32;root,StateNo != [2500,2999]
trigger2 = root,StateNo != [2600,2610]


;-----------------------------------------------
;霸体
[Statedef 2004]
type = U
movetype = U
physics = U

[state ]
type = statetypeset
physics = N
trigger1 = var(10) = 600
trigger2 = var(10) = 610
trigger3 = var(10) = 620
trigger4 = var(10) = 630
trigger5 = var(10) = 640
trigger6 = var(10) = 621
trigger7 = var(10) = 615
trigger8 = var(10) = 625
trigger9 = var(10) = 636
ignorehitpause = 1

[State 3150, A]
type = PalFX
trigger1 = Life > 0
trigger1 = Time = 0
time = 2
;add = 0,-200,-200
add = 250,250,250
mul = 256,256,256
ignorehitpause = 1

[State 3150, B]
type = PosFreeze
trigger1 = Life > 0
trigger1 = 1
ignorehitpause
value = 1

[State 3150, C] ;Freeze anim
type = ChangeAnim
trigger1 = 1
value = Anim
elem = AnimElemNo(0)
ignorehitpause = 1

;----------------------------------------

[State 3150, D]
type = SelfState;ChangeState
trigger1 = Life > 0
;trigger1 = Time >= (gethitvar(hittime));Floor(GetHitVar(hittime) * 0.4)
trigger1 = gethitvar(hitshaketime) = 0
value = VAR(10)
ctrl = 1 - (statetype = A)
ignorehitpause = 1

[State 3150, E]
type = VelSet
trigger1 = Life = 0
x = GetHitVar(xvel)
y = GetHitVar(yvel)

[State 3150, F]
type = ChangeState
trigger1 = Life = 0
value = 5050

;[State 0, VarSet]
;type = VarSet
;trigger1 = 1
;v = 10
;value = stateno
;ignorehitpause = 1

;----------------------------------------------

;===============================================================================
;KIM KAPHWAN KOF-98 (ATAQUES HIPERS)
;===============================================================================
;Esp. Comun Corta
[Statedef 2000]
type = S
movetype = A
physics = S
anim = 2000
velset = 0,0
ctrl = 0
juggle = helper(10000),var(1)           ;10
facep2 = 1

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[state ]
type = posfreeze
value = 1
trigger1 = animelem = 4,<0
ignorehitpause = 1

[state a]
type = posadd
trigger1 = movecontact
x = 20
ignorehitpause = 1

[state ]
type = superpause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
anim = -1
movetime = 10
time = 25
darken = 0
ignorehitpause = 1

[State 100,]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 1500,]
type = NotHitBy
trigger1 = animelem = 4,<0
value = SCA

[State 182, 2]
type = HitBy
trigger1 = animelem = 4,>=0
value = SCA,SA,HA,AP

[State 0]
type = posSet
trigger1 = !time
y = 0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = AnimElem = 1
value = 2000,0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = AnimElem = 1
value = 10,10
persistent = 0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 5
value = 10,11
persistent = 0

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 1
trigger1 = !(helper(10000),var(23) = 1 &&prevstateno = 1500)
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 2000]
type = Explod
trigger1 = time = 9
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 35
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 1000, vels]
type = PosAdd
trigger1 = Animelem = 3
x = 12

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 0,1

[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 1000, velset]
type = velset
trigger1 = AnimElem = 6
x = 10
y = -2

[State 1000, veladd]
type = veladd
trigger1 = AnimElem = 6,> 0
y = 0.3

[State 3005, width]
type = width
trigger1 = movehit
trigger1 = 1
edge = 60,0

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,4
getpower = 0
;p1stateno = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2008,2005)
p1stateno = 2005
p2stateno = 2050
snap = 60,0,0
ground.hittime = 12
ground.slidetime = 12
guard.pausetime = 0,12
guard.hittime = 12
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
kill = 0
p2facing =1

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2002

[State 950, 4]
type = ChangeState
trigger1 = Movecontact
;value = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2002,2005)
value = 2005

;---------------------------------------------------------------------------
;Esp. Comun Aire
[Statedef 2001]
type = A
movetype = A
physics = N
anim = 2001
velset = 0,0
ctrl = 0
juggle = helper(10000),var(1)          ;10
facep2 = 1
poweradd = 0

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[state ]
type = superpause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
anim = -1
movetime = 7
time = 25
darken = 0
ignorehitpause = 1

[State 1500,]
type = NotHitBy
trigger1 = animelem = 2,<=0
value = SCA

[State 182, 2]
type = HitBy
trigger1 = animelem = 2,>0
value = SCA,SA,HA,AP

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = AnimElem = 1
value = 2000,0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 1
value = 10,10
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 5
value = 10,11
persistent = 0

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 4,-70
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 2000]
type = Explod
trigger1 = time = 5;9
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 4,-70
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 35
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 4
value = 0,1

[State 1000, velset]
type = velset
trigger1 = AnimElem = 4
x = 10
y = -2

[State 1000, veladd]
type = veladd
trigger1 = AnimElem = 4,> 0
y = 0.3

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;pausetime = 0,0
pausetime = 1,1
ground.hittime = 12
ground.slidetime = 12
ground.velocity = 0,0
guard.hittime = 12
guard.pausetime = 0,12
getpower = 0
kill = 0
p1stateno = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2009,2005)
p2stateno = 2050
snap = 60,0,0
p2facing = 1

[State 2000, end]
type = ChangeState
trigger1 = Movecontact
value = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2002,2005)

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2002

;------------------------------------------------------------------------------
;Esp. Comun Larga
[Statedef 2015]
type = S
movetype = A
physics = S
anim = 2000
velset = 0,0
ctrl = 0
juggle = helper(10000),var(1)            ;10
facep2 = 1

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[state a]
type = posadd
trigger1 = movecontact
x = 20
ignorehitpause = 1

[state ]
type = superpause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
anim = -1
movetime = 10
time = 25
darken = 0
ignorehitpause = 1

[State 100,]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 197, quake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = 6
freq = 3
supermove = 1

[State 1500,]
type = NotHitBy
trigger1 = animelem = 3,<= 0
value = SCA

[State 182, 2]
type = HitBy
trigger1 = animelem = 3,>0
value = SCA,SA,HA,AP

[State 0]
type = posSet
trigger1 = !time
y = 0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = AnimElem = 1
value = 2000,0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = AnimElem = 1
value = 10,10
persistent = 0

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = AnimElem = 5
value = 10,11
persistent = 0

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 2000]
type = Explod
trigger1 = time = 9
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1
supermovetime = 9999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 35
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 1000, vels]
type = PosAdd
trigger1 = Animelem = 3
x = 12

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 0,1

[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 1000, velset]
type = velset
trigger1 = AnimElem = 6
x = 11
y = -3

[State 1000, veladd]
type = veladd
trigger1 = AnimElem = 6,> 0
y = 0.3

[State 3005, width]
type = width
trigger1 = movehit
trigger1 = 1
edge = 60,0

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,4
getpower = 0
p1stateno = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2008,2005)
p2stateno = 2050
snap = 60,0,0
ground.hittime = 12
ground.slidetime = 12
guard.pausetime = 0,12
guard.hittime = 12
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
kill = 0
p2facing =1

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2002

[State 950, 4]
type = ChangeState
trigger1 = Movecontact
value = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2002,2005)

;--------------------------------------------------------------------------
;Cuando Erra
[Statedef 2002]
type = S
physics = S
anim = 2002
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 1

[State 1005, vels]
type = Velset
trigger1 = Time = 0
x = 6

[State 1005, pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Pegando
[Statedef 2005]
type = S
movetype = A
physics = S
anim = 2005
poweradd = 0
velset = 0,0
juggle = 0
ctrl = 0

[state ]
type = changeanim
value = 2030
trigger1= helper(10000),var(23) = 2
persistent = 0

[state ]
type = Helper
trigger1 = time = 0
id = 2010
stateno = 2010
name = "PlayerPush"
helpertype = normal
postype = p1
pos = 0,0
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movehit
trigger1 = 1
value = SCA

[State 0, PlayerPush]
type = PlayerPush
value = 0
trigger1 = time > 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
triggerall = time <96
trigger1 = movecontact;movehit
;x = 1
x = 1.4

[state a]
type = null;velset
triggerall = time <96
trigger1 = moveguarded
x = 3

[state a]
type = velset
trigger1 = time >96
trigger2 = animelem = 41,>0
trigger2 = moveguarded
x = 0

[state ]
type = null;posadd
x = 20
trigger1 = moveguarded
trigger1 = animtime = 0

[State 3005, width]
type = width
trigger1 = 1
edge = 60,0
player = 30,0

[State 200, 1]
type = PlaySnd
triggerall = anim != 2030
trigger1 = AnimElem = 1
value = 2000,1
channel = 12
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = anim != 2030
trigger1 = AnimElem = 7
trigger2 = animelem = 14
trigger3 = animelem = 19
value = 2300,1
;loop = 1
channel = 12

[State 200, 1]
type = PlaySnd
triggerall = anim != 2030
trigger1 = animelem = 37;36
value = 2300,1
;loop = 1
channel = 12

[State 200, 1]
type = PlaySnd
triggerall = anim = 2030
trigger1 = AnimElem = 1
value = 2000,10
channel = 12
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = anim = 2030
trigger1 = animelem = 25
trigger2 = animelem = 31
trigger3 = animelem = 37
value = 2000,11
;loop = 1
channel = 12


[State 0, StopSnd]
type = null;StopSnd
;trigger1 = animelem = 23;42
trigger1 = animelem = 27,=1;42
trigger2 = animelem = 43;42
channel = 12

[state a]
type = null;targetbind
triggerall = animelem = 41,< 0
trigger1 = movehit
pos = 58,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 9
trigger3 = animelem = 15
trigger4 = animelem = 20
trigger5 = animelem = 26
trigger6 = animelem = 33
trigger7 = animelem = 40
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State a]
type = EnvColor
triggerall = MoveHit
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 15
trigger4 = animelem = 20
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 38
time = 1
value = 245,245,245
under = 2

[State 4510, 13]
type = HitDef
trigger1 = animelem = 3
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = s5,1 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 8
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = s5,1 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 15
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 20
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 26
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 32
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 38
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-60
p2stateno = 2051
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1

[State 4510, 13]
type = HitDef
trigger1 = animelem = 40
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 3,2     ;0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -25,-90
p2stateno = 2050
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200        ;s5,3
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0;-10
getpower = 0
kill = 0
p2facing =1
ground.velocity = 0;-10

[State a]
type = null;playsnd
value = S5,1+ (helper(10000),var(22) - 1) * 200
triggerall = MoveHit
triggerall = helper(10000),var(8) = 1
trigger1 = animelem = 3
trigger2 = animelem = 8
ignorehitpause = 1

[State a]
type = null;playsnd
value = S5,2+ (helper(10000),var(22) - 1) * 200
triggerall = MoveHit
triggerall = helper(10000),var(8) = 1
trigger1 = animelem = 15
trigger2 = animelem = 20
trigger3 = animelem = 32
ignorehitpause = 1

[State a]
type = null;playsnd
value = S5,3+ (helper(10000),var(22) - 1) * 200
triggerall = MoveHit
triggerall = helper(10000),var(8) = 1
trigger1 = animelem = 26
trigger2 = animelem = 38
ignorehitpause = 1

[State 200, 3]
type = ChangeState
trigger1 = MoveHit
;trigger1 = animelem = 40
trigger1 = animelem = 38,>0
value = 2006

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Pegando
[Statedef 2010]
type = S
movetype = A
physics = S
poweradd = 0
velset = 0,0
juggle = 0
ctrl = 0
sprpriority = -1

[state ]
type = nothitby
value = SCA,AA,AT,AP
trigger1 = 1
ignorehitpause = 1

[state ]
type = changeanim
value = 2005
trigger1 = time = 0
trigger1 = root,stateno = 2005

[state ]
type = changeanim
value = 2205
trigger1 = time = 0
trigger1 = root,stateno = 2205

[State ]
type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 0,250

[state ]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing
ignorehitpause = 1

[state ]
type = playerpush
value = 1
trigger1 = 1
ignorehitpause = 1

[state ]
type = posset
x = root,pos x + 30 * facing
y = root,pos y
trigger1 = 1
ignorehitpause = 1

[state ]
type = destroyself
trigger1 = animtime = 0
trigger2 = root,stateno != 2005
trigger2 = root,stateno != 2205

;------------------------------------------------------------------------------
;Oriuken Final
[Statedef 2006]
type = A
movetype = A
physics = N
anim = 2006
velset = 0,0
juggle = 0
ctrl = 0

[State 200, 1]
type = PlaySnd
;trigger1 = AnimElem = 9;2
triggerall = helper(10000),var(23) != 2
trigger1 = animelem = 1
value = 2000,4
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 1
value = 10,14
persistent = 0

;S = 28,82
;T = 34
;Vy = 9

[state ]
type = posset
y = 0
trigger1 = animelem = 7,<0

[state ]
type = velset
y = -9
trigger1 = animelem = 7
persistent = 0

[state ]
type = posadd
x = 8
trigger1 = animelem = 9
trigger2 = animelem = 16

[state ]
type = veladd
y = 0.58
trigger1 = animelem = 7,>1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 12
value = 4,2

[State a]
type = EnvColor
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 12
time = 1
value = 255,255,255
under = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[state a]
type = targetbind
trigger1 = movehit
trigger1 = animelem = 4,< 0
pos = 45,0

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 6
;---------
;---(0)---
;---------
damage = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
;---------
;---(1)---
;---------
attr = S, SA
animtype = medium
hitflag = MAF
guardflag = MA
ground.type = low
air.fall = 1
fall.recovertime = 0
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 10,10
;ground.hittime = 17
;ground.slidetime = 17
;
pausetime = 11,13
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0
;air.velocity = -2,-9.5
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
kill = 0
p2facing = 1


[State 220, 2]
type = HitDef
trigger1 = animelem = 7
trigger2 = animelem = 8
;---------
;---(0)---
;---------
damage = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 12,11
pausetime = 14,15 - 2
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -1,-12      ;-1,-9.5
air.velocity = 0,-9.5
;
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
kill = 0
p2facing = 1
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State 220, 2]
type = HitDef
trigger1 = animelem = 15
;---------
;---(0)---
;---------
damage = 50*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 12,11
pausetime = 19,19
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -1,-12      ;-1,-9.5
air.velocity = -2,-9.5
;
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
p2facing = 1
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State ]
type = Pause
;-------------------------------------------------
triggerall = animelem = 15,>=0
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 19-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = animelem = 15,>=0
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 19-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[state ]
type = playsnd
value = 4,14
triggerall = palno = 12
trigger1 = animelem = 13
persistent = 0

[State 2021, Explod 2]
type = Explod
triggerall = palno = 12
trigger1 = animelem = 12
anim = 2040
pos = 0,0
postype = p2
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = -1
supermove = 1
supermovetime = 999
persistent = 0

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 8
trigger2 = animelem = 15
id = 1050
name = "hasira"
pos = 0,0
postype = p1
stateno = 1050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 7
persistent = 0
[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 14
persistent = 0

[state ]
type = playsnd
value = 5,412
trigger1 = palno = 12
trigger1 = animelem = 7,>= 0
trigger1 = movehit
;trigger1 = helper(10000),var(8) = 1
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,412
trigger1 = palno = 12
trigger1 = animelem = 8,>= 0
trigger1 = movehit
;trigger1 = helper(10000),var(8) = 1
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 15,>= 0
trigger1 = movehit
;trigger1 = helper(10000),var(8) = 1
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelem = 7,>=0
trigger1 = movehit = [1,2]
IgnoreHitPausetime = 1
;persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State 1101,2]
type = ChangeState
;trigger1 = animelem = 3,>0
;trigger1 = vel Y > 0
;trigger1 = pos Y >= 0
trigger1 = animtime = 0
value = 2007

;-------------------------------------------------------------------------
;Cuando Cae
[Statedef 2007]
type = S
movetype = A
physics = S
anim = 2007
velset = 0,0
ctrl = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1002,]
type = PlaySnd
trigger1 = Time = 1
value = 0,2

[State 1002, pos]
type = posset
trigger1 = time = 0
y = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------


;---------------------------------------------------------------------------
; 鳳凰脚・ヒット
[Statedef 2008]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2008
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 1
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 33
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 62
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 10
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 22
trigger6 = animelem = 35
trigger7 = animelem = 42
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 48
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


[State 0, AfterImage]
type = AfterImage
trigger1 = time = 48
time = 100
timegap = 2
length = 5
framegap = 2
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
triggerall = animelem = 32,<0
trigger1 = movehit
x = 1.4

;[state a]
;type = velset
;trigger1 = time = 0
;x = 1

[state a]
type = velset
trigger1 = animelem = 32
x = 2.5

[state a]
type = velset
trigger1 = animelem = 43
x = 0

[state a]
type = posadd
trigger1 = animelem = 29
trigger2 = animelem = 30
trigger3 = animelem = 31
trigger4 = animelem = 32
trigger5 = animelem = 48
trigger6 = animelem = 49
trigger7 = animelem = 50
x = 8

[state a]
type = statetypeset
trigger1 = animelem = 51
value = A

[state a]
type = posadd
trigger1 = animelem = 51
y = -8;-9

[state a]
type = posadd
trigger1 = animelem = 52
x = 8
y = -7;-8

[state a]
type = velset
trigger1 = animelem = 53
y = -7;-8


[state a]
type = veladd
trigger1 = animelem = 53,>0
y = 0.47

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 29,<0;1
edge = 90,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 29,>=0
trigger1 = animelem = 51,<0;1
edge = 60,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 51,>=0
edge = 30,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = hard
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-10
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2051
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype  = hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-90
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2050
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


[State 210, 2]
type = HitDef
trigger1 = animelem = 12
attr = S, HA
animtype  = hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-20
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2050
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0


[State 210, 2]
type = HitDef
trigger1 = animelem = 15
attr = S, HA
animtype  = hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-50
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2050
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 22
attr = S, HA
animtype  = hard
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-5
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200 + random%2
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2051
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 35
attr = S, HA
animtype  = hard
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-95
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2051
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 42
attr = S, HA
animtype  = hard
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 5,4
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-95
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2050
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 52
attr = A, HA
animtype  = high
;damage    = 69,8
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 13,15
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-89
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,-11.8
air.velocity = 0,-11.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 66
attr = A, SA
animtype  = up
;damage    = 108,8
damage    = 90*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 16,14
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-89
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -7,12
;air.velocity = -7,12
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
envshake.time = 25               ;14
envshake.ampl = 5
envshake.freq = 100
fall.envshake.time = 14
fall.envshake.ampl = 4
fall.envshake.freq = 100
id = 2206
;
air.velocity = -8 + helper(10000),fvar(16),20 + helper(10000),fvar(17)
fall.xvelocity = ifelse((facing != enemynear,facing) && (enemynear,anim != [5,6]),-3,3)
fall.yvelocity = -4
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[state ]
type = targetstate
value = 900;1706
id = 2206
trigger1 = animelem = 66,>=0
trigger1 = movehit
trigger1 = numtarget(2206) > 0
trigger1 = hitpausetime = 1
ignorehitpause = 1
persistent = 0

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 29,<0;48,< 0
pos = 68,0

[state a]
type = targetbind
trigger1 = animelem = 29,>=0;48,< 0
trigger1 = animelem = 48,<0
pos = 58,0

[state a]
type = targetbind
trigger1 = animelem = 51
pos = 58,0

;---------------------[ヘルパー]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 65
id = 1650
name = "hasira"
pos = 0,0
postype = p1
stateno = 1650
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 66,= -10
persistent = 0

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 65,>0
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 66,>=0
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State ]
type = Pause
;-------------------------------------------------
triggerall = palno = 12
trigger1 = movehit
trigger1 = gameTime % 10 = 0
trigger1 = animelem = 66,>=0
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[State 200, 3]
type = ChangeState
triggerall = palno = 12
triggerall = animelem = 43,=1
trigger1 = command = "a" || command = "b" || command = "x" || command = "y"
trigger2 = command = "hold_a" || command = "hold_b" || command = "hold_x" || command = "hold_y"
trigger3 = helper(10000),var(22) = 3
value = 2020

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2007
-----------

;---------------------------------------------------------------------------
; 鳳凰脚・ヒット KOF14
[Statedef 2009]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2009
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 1
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 33
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 62
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 10
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 22
trigger6 = animelem = 35
trigger7 = animelem = 42
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 48
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


[State 0, AfterImage]
type = AfterImage
trigger1 = animelem = 42
time = 60;100
timegap = 2
length = 5
framegap = 2
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = animelem = 1
y = 0
[state ]
type = posadd
x = 6
trigger1 = animelem = 18
trigger2 = animelem = 19
trigger3 = animelem = 20
trigger4 = animelem = 21


[state a]
type = velset
trigger1 = animelem = 43
x = 2.5

[state a]
type = velset
trigger1 = animelem = 56
x = 0

[state a]
type = posadd
trigger1 = animelem = 43
trigger2 = animelem = 44
trigger3 = animelem = 45
trigger4 = animelem = 46
x = 8


[state a]
type = statetypeset
trigger1 = animelem = 65
value = A

[state ]
type = velset
x = 5
y = -8
trigger1= animelem = 65
persistent = 0

[state ]
type = veladd
y = 0.6
trigger1 = animelem = 65,> 1

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 29,<0;1
edge = 90,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 29,>=0
trigger1 = animelem = 51,<0;1
edge = 60,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 51,>=0
edge = 30,0

[State 220, 2]
type = HitDef
trigger1 = animelem = 1
;---------
;---(0)---
;---------
damage = 0,0
getpower = 0,0
givepower = 0,0
air.juggle = 0
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = back;hard
ground.type = high
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 2,3
guard.pausetime = 11,11
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
;---------
;---(3)---
;---------
ground.velocity = 0,-7
;air.velocity = -3.5,-7          ;-5,-7
;
air.velocity = 0,-7
yaccel = .5
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = -1;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-80
;---------
;---(5)---
;---------
hitsound = -1;S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = -1;S6,1 + (helper(10000),var(22) - 1) * 200

[State 220, 2]
type = HitDef
trigger1 = animelem = 4
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
air.juggle = 0
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = back;hard
ground.type = high
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 2,3
guard.pausetime = 11,11
ground.hittime = 30
ground.slidetime = 30
guard.hittime = 30
guard.ctrltime = 30
;---------
;---(3)---
;---------
ground.velocity = 0,-7
;air.velocity = -3.5,-7          ;-5,-7
;
air.velocity = 0,-7
yaccel = .5
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-110
;---------
;---(5)---
;---------
hitsound = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200


[State 220, 2]
type = HitDef
trigger1 = animelem = 15
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
air.juggle = 0
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAFD
guardflag = MA
animtype = hard
ground.type = high
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 2,2
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0,-9
;air.velocity = -3.5,-7          ;-5,-7
;
air.velocity = -3,16
yaccel = .5
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-80
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
p2stateno = 5610


;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 18
attr = S, HA
animtype  = hard
hitflag = MAFD
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = 30,-50
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2051
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 25
trigger2 = animelem = 36
attr = S, HA
animtype  = hard
hitflag = MAFD
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-10
hitsound   = S5,0 + (helper(10000),var(22) - 1) * 200 + 1 * (animelem = 36)
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2051
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 31
trigger2 = animelem = 49
trigger3 = animelem = 56
attr = S, HA
animtype  = hard
hitflag = MAFD
damage    = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-70
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
p2stateno = 2050
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 220, 2]
type = HitDef
trigger1 = animelem = 64
;---------
;---(0)---
;---------
damage = 100*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
air.juggle = 0
;---------
;---(1)---
;---------
attr = A, HA
hitflag = MAF
guardflag = ;MA
animtype = hard
ground.type = high
fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 18,18
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -5,-9.5;7
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-70
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200;---------
;---(6)---
;---------
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State ]
type = null;Pause
;-------------------------------------------------
triggerall = animelem = 62,>=0
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = animelem = 64,>=0
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-13
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 1
pos = 68,-40
ignorehitpause = 1

[state a]
type = targetbind
trigger1 = animelem = 22,>=0
trigger1 = animelem = 57,<0;48,< 0
pos = 68,0

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 65
id = 1050
name = "hasira"
pos = 0,0
postype = p1
stateno = 1050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 64,>=0
trigger1 = movehit = 1
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelem = 64,>=0
trigger1 = movehit
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[state ]
type = playsnd
value = 4,14
triggerall = palno = 12
trigger1 = animelem = 64
persistent = 0

[State 2021, Explod 2]
type = Explod
triggerall = palno = 12
trigger1 = animelem = 63
anim = 2040
pos = 0,0
postype = p2
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = -1
supermove = 1
supermovetime = 999
persistent = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2007
-----------

;---------------------------------------------------------------------------

;-----------------------------------------------------------------------
;2005 - ~
[Statedef 2020]
type = S
movetype = A
physics = N
anim = 2020
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[state ]
type = targetbind
trigger1 = 1
pos = 60,0

[state ]
type = nothitby
value = SCA,AA,AT,AP
trigger1 = 1

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 3000,8

[state ]
type = velset
x = 4.5
trigger1 = animelem = 3
persistent = 0

[state ]
type = velset
x = 0
trigger1 = animelem = 8
persistent = 0

[State 220, 2]
type = HitDef
trigger1 = !movecontact
;---------
;---(0)---
;---------
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = light;medium
ground.type = high
air.fall = 1
fall.recover = 0
fall.recovertime = 0
p2stateno = 2050
;---------
;---(2)---
;---------
;pausetime = 10,5
;ground.hittime = 25
;ground.slidetime = 25
;
;pausetime = 11 - 5,13 - 5
pausetime = 10,12
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0                 ;-11.3
;air.velocity = -3,-7
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 8
id = 1251
name = "hasira"
pos = 0,0
postype = p1
stateno = 1251
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 2
persistent = 0

[state ]
type = playsnd
value = 5,412
trigger1 = palno = 12
trigger1 = movehit
trigger1 = helper(10000),var(8) = 1
ignorehitpause = 1
channel = 5

[state a]
type = changestate
trigger1 = animtime = 0
value = 2021
;-----------------------------------------------------------------------
[Statedef 2021]
type = A;S
movetype = A
physics = N
anim = 2021
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[state ]
type = nothitby
value = SCA,AA,AT,AP
trigger1 = 1

[state ]
type = velset
x = 2
y = -9
trigger1 = animelem = 5

[state ]
type = veladd
y = 0.56
trigger1 = animelem = 5,>0

[state ]
type = playsnd
value = 4,14
trigger1 = animelem = 5
persistent = 0

[State 2021, Explod 2]
type = Explod
trigger1 = animelem = 5
anim = 2040
pos = 0,0
postype = p2
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = -1
supermove = 1
supermovetime = 999
persistent = 0

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 4
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
;---------
;---(1)---
;---------
attr = S, SA
animtype = Up;medium
hitflag = MAF
guardflag = MA
ground.type = low
fall = 1
air.fall = 1
fall.recovertime = 0
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 10,10
;ground.hittime = 17
;ground.slidetime = 17
;
pausetime = 11 - 2,10 - 2
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0 - 6 * (helper(10000),var(23) = 2),-1
;air.velocity = -2,-9.5
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 5
;---------
;---(0)---
;---------
damage = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 12,11
pausetime = 11 - 2,10 - 3
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -1,-12      ;-1,-9.5
air.velocity = -2,-9.5
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 10,9
pausetime = 11 - 2,10 - 5
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -2,-9.5
;air.velocity = -2,-12   ;-2,-9.5
air.velocity = -2,-12   ;-2,-9.5
;yaccel = .5
;
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1 && animelem = 5,<0
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];渾?? - root,statedef
type = envshake
triggerall = movehit = 1 && animelem = 5,<0
triggerall = target,gethitvar(hitshaketime) > 0
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1 && animelem = 5,>0
trigger1 = gameTime % 3 = 0
;-------------------------------------------------
anim = -1
movetime = 1
time = 1
endcmdbuftime = 1
ignorehitpause = 1


[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2007
-----------

;---------------------------------------------------------------------------
;Especial Tembu
[Statedef 2100,]
type = A;S
movetype = A
physics = N;S
anim = 2100 + (helper(10000),var(22) = 3)
velset = 0,0
ctrl = 0
facep2 = 1

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[State 0,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000,]
type = PosAdd
trigger1 = AnimTime = 0
x = 10

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 2100,0

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 2100,2

[State 2000,]
type = SuperPause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
anim = -1
movetime = 18
time = 27
darken = 0

[State 100,]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 9
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 2101

;--------------------------------------------------------------------------
;Cuando Va
[Statedef 2101]
type = A
movetype = A
physics = N
anim = 2110
velset = 0,0
juggle = helper(10000),var(1)        ;8
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 7
value = SCA

[State 182, 2]
type = HitBy
trigger1 = time >6
value = SCA,SA,HA,AP

[State 1300, vels]
type = Velset
trigger1 = animelem = 1, >= 0
x = 7
y = 6.50

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = up
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-40
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,13 - 2
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0,-2
air.velocity = 0,-2
yaccel = .5
getpower = 0,0
snap = 50,40,0
guard.pausetime = 0,12
guard.velocity = -6
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
kill = 0

[State 950, 4]
type = ChangeState
trigger1 = movehit
value = 2105

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 2102

;-----------------------------------------------------------------------------
;Cuando Cae
[Statedef 2102]
type = S
movetype = I
physics = S
anim = 2102
velset = 0,0
ctrl = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 1

[State 1002,]
type = PlaySnd
trigger1 = Time = 0
value = 0,2

[State 1002, pos]
type = posset
trigger1 = time = 0
y = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;Pegando
[Statedef 2105]
type = A
movetype = A
physics = N
anim = 2105
velset = 0,0
juggle = 0
ctrl = 0

[State 3005,]
type = width
trigger1 = 1
edge = 40,0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3001,]
type = AssertSpecial
trigger1 = AnimElem = 1,=1
flag = nofg

[State 1300,]
type = Velset
trigger1 = animelem = 3, >= 0 && animelem = 16, < 0
y = -0.25

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 14
trigger3 = AnimElem = 25
value = 2100,1

[State 1000,]
type = Playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10 = animelem = 28
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = time = 0
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 3001, BgPal]
type = envcolor
trigger1 = movehit
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10 = animelem = 28
time = 1
value = 245,245,245
under = 2

[State 200, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10 = animelem = 28
attr = S, HA
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,5         ;0,1
ground.hittime = 25     ;18
ground.type = high
ground.slidetime = 18
ground.velocity = 0,-3.5
air.velocity = 0,-5     ;0,-3.5
fall = 1
fall.recover = 0
fall.recovertime = 0
yaccel = .5
ground.cornerpush.veloff = 0
kill = 0
getpower = 0
p2facing =1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 80
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 32
value = 2000,4

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 34
id = 1150
name = "hasira"
pos = 0,-20
postype = p1
stateno = 1150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 34
persistent = 0

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State 950, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 2106

;----------------------------------------------------------------------------
;Ultima Patada
[Statedef 2106]
type = A
movetype = A
physics = N
anim = 2106
juggle = 0
velset = 0,0
ctrl = 0

[State 1000, dm sound]
type = Playsnd
trigger1 = animelem = 1
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 2106, Yaccel]
type = VelAdd
trigger1 = time > 0
y = .58

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 200, 2]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 100*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = diagup
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 40,40              ;12,12
ground.hittime = 18
ground.type = high
ground.slidetime = 18
ground.velocity = -6,-7
air.velocity = -6,-7
fall = 1
fall.recover = 0
fall.recovertime = 0
yaccel = .5
getpower = 0
ground.cornerpush.veloff = 0
p2facing =1
envshake.time = 25             ;13
envshake.ampl = 4
envshake.freq = 100
fall.envshake.time = 12
fall.envshake.ampl = 4
fall.envshake.freq = 100
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 1,>=0
ignorehitpause = 1
persistent = 0
channel = 5

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2007

;---------------------------------------------------------------------------------
;Super Comun 
[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2000
velset = 0,0
ctrl = 0
juggle = helper(10000),var(1)          ;10
poweradd = -1000-1000*(prevstateno != [2000,2999])*(var(7)<=0)

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state ]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 10
time = 25
darken = 0
ignorehitpause = 1

[State 197, quake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = 6
freq = 3
supermove = 1

[State 1500,]
type = NotHitBy
trigger1 = animelem = 4,<0
value = SCA

[State 182, 2]
type = null;HitBy
trigger1 = animelem = 4,>=0
value = SCA,SA,HA,AP

[State 0]
type = posSet
trigger1 = !time
y = 0

[State 1000, dm sound]
type = Playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = AnimElem = 1
value = 2000,0
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 1
value = 10,10
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 5
value = 10,11
persistent = 0

[State 1000, dm sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,1 + 10*(helper(10000),var(23) - 1)

[State 2000]
type = Explod
trigger1 = time = 2
anim = 12000 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 9
anim = 12001 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 35
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 1000, vels]
type = PosAdd
trigger1 = Animelem = 3
x = 12

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = 0,1

[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A
physics = N

[State 1000, velset]
type = velset
trigger1 = AnimElem = 6
x = 12
y = -2

[State 1000, veladd]
type = veladd
trigger1 = AnimElem = 6,> 0
y = 0.2

[State 3005, width]
type = width
trigger1 = movehit
trigger1 = 1
edge = 60,0

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,8
getpower = 0
numhits = 0
;p1stateno = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2208,2205)
p1stateno = 2205
p2stateno = 2050
snap = 60,0,0
guard.pausetime = 0,12
guard.velocity = -12
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
kill = 0
p2facing =1

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2002

[State 950, 4]
type = null;ChangeState
trigger1 = Moveguarded
trigger1 = helper(10000),var(14) = 5 || helper(10000),var(5) = 2
value = 2002

[State 950, 4]
type = ChangeState
trigger1 = Movecontact
;value = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2208,2205)
value = 2205
;-------------------------------------------------------------------------
;Super Comun Aire
[Statedef 2210]
type = A
movetype = A
physics = N
anim = 2001
velset = 0,0
ctrl = 0
juggle = helper(10000),var(1)            ;10
facep2 = 1
poweradd = -1000-1000*(prevstateno != [2000,2999])*(var(7)<=0)

[state ]
type = superpause
trigger1 = time = 0
anim = -1
movetime = 7
time = 25
darken = 0
ignorehitpause = 1

[State 1500,]
type = NotHitBy
trigger1 = animelem = 2,<=0
value = SCA

[State 182, 2]
type = null;HitBy
trigger1 = animelem = 2,>0
value = SCA,SA,HA,AP

[State 1000,]
type = Playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = AnimElem = 1
value = 2000,0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 1
value = 10,10
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 5
value = 10,11
persistent = 0

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,1 + 10*(helper(10000),var(23) - 1)

[State 2000]
type = Explod
trigger1 = time = 2
anim = 12000 + (helper(10000),var(23) - 1) * 5
pos = 4,-70
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 5;9
anim = 12001 + (helper(10000),var(23) - 1) * 5
pos = 4,-70
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 35
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 4
value = 0,1

[State 1000, velset]
type = velset
trigger1 = AnimElem = 4
x = 12
y = -2

[State 1000, veladd]
type = veladd
trigger1 = AnimElem = 4,> 0
y = 0.3

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = hard
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,0
ground.hittime = 12
ground.slidetime = 12
guard.hittime = 12
guard.pausetime = 0,12
getpower = 0
numhits = 0
kill = 0
p1stateno = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2208,2205)
p2stateno = 2050
snap = 60,0,0
p2facing = 1

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 2002

[State 950, 4]
type = ChangeState
trigger1 = Moveguarded
trigger1 = helper(10000),var(14) = 5 || helper(10000),var(5) = 2
value = 2002

[State 950, 4]
type = ChangeState
trigger1 = Movecontact
value = ifelse((helper(10000),var(14) = 5 || helper(10000),var(5) = 2),2208,2205)

;------------------------------------------------------------------------------
;Pegando
[Statedef 2205]
type = S
movetype = A
physics = S
anim = 2205
poweradd = 0
velset = 0,0
juggle = 0
ctrl = 0

[state ]
type = changeanim
value = 2203
trigger1= helper(10000),var(23) = 2
persistent = 0

[state ]
type = Helper
trigger1 = time = 0
id = 2010
stateno = 2010
name = "PlayerPush"
helpertype = normal
postype = p1
pos = 0,0
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movehit
trigger1 = 1
value = SCA

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 1
value = 0
ignorehitpause = 1

[state a]
type = velset
trigger1 = time <138
x = 1.4

[state a]
type = velset
trigger1 = time >138
x = 0

[State 3005, width]
type = width
trigger1 = 1
edge = 60,0
player = 30,0
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = anim = 2205
trigger1 = AnimElem = 1
value = 2000,1
channel = 12
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = anim != 2203
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 19
trigger4 = AnimElem = 24
trigger5 = AnimElem = 28
;trigger6 = AnimElem = 34
;trigger7 = AnimElem = 38
;trigger8 = AnimElem = 44
value = 2300,1
;loop = 1
channel = 13

[State 0, StopSnd]
type = null;StopSnd
trigger1 = animelem = 32
channel = 13

[State 200, 1]
type = PlaySnd
triggerall = anim != 2203
trigger1 = AnimElem = 52;48
value = 2300,1
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = anim = 2203
trigger1 = AnimElem = 1
value = 2000,10
channel = 12
persistent = 0

[State 200, 1]
type = PlaySnd
triggerall = anim = 2203
trigger1 = animelem = 28
trigger2 = animelem = 28,=8
trigger3 = animelem = 28,=16
value = 2000,11
;loop = 1
channel = 12


[state a]
type = null;targetbind
trigger1 = animelem = 58,< 0
pos = 50,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 24
trigger7 = animelem = 29
trigger8 = animelem = 35
trigger9 = animelem = 39
trigger10 = animelem = 41
trigger11 = animelem = 47
trigger12 = animelem = 54
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State a]
type = EnvColor
triggerall = MoveHit
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 13
trigger5 = animelem = 19
trigger6 = animelem = 24
trigger7 = animelem = 29
trigger8 = animelem = 35
trigger9 = animelem = 39
trigger10 = animelem = 41
trigger11 = animelem = 47
trigger12 = animelem = 54
time = 1
value = 245,245,245
under = 2

[State 4510, 13];Golpes Debiles Altos
type = HitDef
trigger1 = animelem = 2
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -24,-85
p2stateno = 2050
hitsound   = s5,0 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Debiles Altos
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -24,-85
p2stateno = 2050
hitsound   = s5,0 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Medios
type = HitDef
trigger1 = animelem = 8
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-60
p2stateno = 2050
hitsound   = s5,1 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Altos
type = HitDef
trigger1 = animelem = 13
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -22,-85
p2stateno = 2051
hitsound   = s5,1 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Medios
type = HitDef
trigger1 = animelem = 20
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-60
p2stateno = 2050
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Medios
type = HitDef
trigger1 = animelem = 25
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-60
p2stateno = 2050
hitsound   = s5,1 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Altos
type = HitDef
trigger1 = animelem = 29
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 0 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -22,-85
p2stateno = 2051
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Medios
type = HitDef
trigger1 = animelem = 35
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 3 ,2
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-60
p2stateno = 2050
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Altos
type = HitDef
trigger1 = animelem = 39
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 4 ,3
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -22,-85
p2stateno = 2051
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Altos
type = HitDef
trigger1 = animelem = 40
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 4 ,3
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -22,-85
p2stateno = 2051
hitsound   = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Golpes Debiles Medios
type = HitDef
trigger1 = animelem = 45
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 2 ,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -22,-60
p2stateno = 2051
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 4510, 13];Ultimo Golpe
type = HitDef
trigger1 = animelem = 53
attr = S, HA
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = Hard;heavy
hitflag = MAF
guardflag = M
priority = 3, Hit
pausetime = 4 ,3
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-60
p2stateno = 2050
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 13
ground.hittime  = 13
ground.velocity = 0,0
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
air.velocity = -1.3,-3
getpower = 0
kill = 0
p2facing =1

[State 200, 3]
type = null;ChangeState
triggerall = palno = 12
triggerall = animelem = 53,=1
trigger1 = 1
;trigger1 = command = "a" || command = "b" || command = "x" || command = "y"
;trigger2 = command = "hold_a" || command = "hold_b" || command = "hold_x" || command = "hold_y"
value = 2220

[State 200, 3]
type = ChangeState
trigger1 = MoveHit
trigger1 = animelem = 53,>1
value = 2206

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;Oriuken Final
[statedef 2206]
type = A
movetype = A
physics = N;S
ctrl = 0
anim = 2206
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3005, width]
type = width
trigger1 = 1
edge = 40,0

;15,-4
;Sy = 126

[state ]
type = posadd
x = 8
trigger1 = animelem = 6
trigger2 = animelem = 7

[State 3303, 1]
type = Velset
trigger1 = animelem = 8
x = 15
y = -4

[state ]
type = velmul
x = 0.96
trigger1 = animelem = 8,>0
trigger1 = animelem = 34,<0

[state 1101,4]
type = veladd
trigger1 = animelem = 8,>0
y = .06

[state 1101,4]
type = veladd
trigger1 = animelem = 34,>0
y = .28

[state 1101,4]
type = velset
trigger1 = animelem = 34
x = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3203, 1]
type = playsnd
triggerall = helper(10000),var(23) != 2
trigger1 = animelem = 23
value = 2000,4

[State 200, 1]
type = PlaySnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 15;23
value = 10,14
persistent = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 11
trigger3 = animelem = 19
trigger4 = animelem = 24
trigger5 = animelem = 30
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State EnvColor]
type = EnvColor
triggerall = movehit
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 11
trigger4 = animelem = 12
trigger5 = animelem = 19
trigger6 = animelem = 20
trigger7 = animelem = 24
trigger8 = animelem = 25
trigger9 = animelem = 31
time = 1
value = 245,245,245
under = 2

[State 1101, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 16
trigger5 = animelem = 20
trigger6 = animelem = 24
attr = S, HA
animtype = back
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
pausetime = 2,3
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -23,-80 - 10*animelem = 24
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 12
round.hittime = 18
ground.velocity = -4,-5   
air.velocity = -5,-5
fall = 1
fall.recover = 0
fall.recovertime = 0
getpower = 0
p2facing =1
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)*((animelem = 24) + (animelem = 7) + (animelem = 14) + (animelem = 20))
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State 3102, 2]
type = HitDef
trigger1 = AnimElem = 31
attr = A, HA
damage = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = up
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-80
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
;pausetime = 25,25                  ;20,20
pausetime = 18,18;22,22
ground.hittime = 10
ground.type = low
ground.slidetime = 19
ground.velocity = -8,10
;air.velocity = -8,10
fall = 1
fall.recover = 0
fall.recovertime = 0
getpower = 0
p2facing =1
;envshake.time = 25               ;14
;envshake.ampl = 5
;envshake.freq = 100
;fall.envshake.time = 14
;fall.envshake.ampl = 4
;fall.envshake.freq = 100
id = 2206
;
air.velocity = -11 + helper(10000),fvar(16),20 + helper(10000),fvar(17)
fall.xvelocity = ifelse((facing != enemynear,facing) && (enemynear,anim != [5,6]),-3,3)
fall.yvelocity = -4
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State ]
type = Pause
;-------------------------------------------------
trigger1 = animelem = 31,>=0
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[State ]
type = Pause
;-------------------------------------------------
trigger1 = animelem = 31,>=0
trigger1 = movehit > 2
trigger1 = gameTime % 9 = 0
;-------------------------------------------------
anim = -1
movetime = 1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = animelem = 31,>=0
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[state ]
type = targetstate
value = 5610
trigger1 = movehit > 0 && numtarget(2206) > 0
trigger1 = target(2206),statetype = A
trigger1 = HitPauseTime = 1
id = 2206
ignorehitpause = 1
persistent = 0

[State 1002, 4]
type = null;Targetstate
trigger1 = movehit > 0 && numtarget(2206) > 0
trigger1 = target(2206),statetype = A
trigger1 = HitPauseTime = 1
value = 900;1706
id = 2206
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 30
id = 1650
name = "hasira"
pos = 0,0
postype = p1
stateno = 1650
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 102
trigger1 = animelem = 31,=-10
persistent = 0

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 30,>0
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 31,>=0
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State ]
type = Pause
;-------------------------------------------------
triggerall = palno = 12
trigger1 = movehit
trigger1 = gameTime % 10 = 0
trigger1 = animelem = 30,>=0
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 24
id = 1050
name = "hasira"
pos = 0,0
postype = p1
stateno = 1050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 24,>=0
ignorehitpause = 1
persistent = 0
channel = 5

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 7
trigger2 = animelem = 14
trigger3 = animelem = 20
id = 1150
name = "hasira"
pos = 0,0
postype = p1
stateno = 1150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 7,>=0
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 14,>=0
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 20,>=0
ignorehitpause = 1
persistent = 0
channel = 5


[State 1101,2]
type = ChangeState
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 2007
ctrl = 0

;-----------------------------------------------------------------------
;2205 - ~
[Statedef 2220]
type = S
movetype = A
physics = N
anim = 2220
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[state a]
type = targetbind
trigger1 = movehit
pos = 60,0

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 13
trigger3 = animelem = 24
trigger4 = animelem = 35
value = 3000,8

[state ]
type = width
value = 60,0
trigger1 = 1

[state ]
type = null;posadd;velset
x = 9.5
triggerall = frontedgedist > 70
trigger1 = animelem = 2,>=0
trigger1 = animelem = 6,<0
;
trigger2 = animelem = 10,>=0
trigger2 = animelem = 14,<0
;
trigger3 = animelem = 18,>=0
trigger3 = animelem = 22,<0
;
trigger4 = animelem = 26,>=0
trigger4 = animelem = 30,<0

[state ]
type = velset
x = 2.4
trigger1 = animelem = 32,<0

[State 220, 2]
type = HitDef
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
;---------
;---(0)---
;---------
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = light;medium
ground.type = high
air.fall = 1
fall.recover = 0
fall.recovertime = 0
p2stateno = 2050
;---------
;---(2)---
;---------
;pausetime = 10,5
;ground.hittime = 25
;ground.slidetime = 25
;
;pausetime = 11 - 5,13 - 5
;pausetime = 2,3
pausetime = 2,3
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0                 ;-11.3
;air.velocity = -3,-7
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State 220, 2]
type = HitDef
trigger1 = animelem = 31
;---------
;---(0)---
;---------
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = light;medium
ground.type = high
air.fall = 1
fall.recover = 0
fall.recovertime = 0
p2stateno = 2050
;---------
;---(2)---
;---------
;pausetime = 10,5
;ground.hittime = 25
;ground.slidetime = 25
;
;pausetime = 12,13
pausetime = 6,7
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0                 ;-11.3
;air.velocity = -3,-7
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 6
trigger2 = animelem = 14
trigger3 = animelem = 22
trigger4 = animelem = 30
id = 1251
name = "hasira"
pos = 0,0
postype = p1
stateno = 1251
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 2
trigger2 = animelem = 13
trigger3 = animelem = 24
trigger4 = animelem = 33
persistent = 0

[state ]
type = playsnd
value = 5,412
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 9,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,412
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 20,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,412
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 31,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,412
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 41,>=0
persistent = 0
ignorehitpause = 1
channel = 5

[state ]
type = playsnd
value = 5,410
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 9,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,410
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 20,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,410
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 31,>=0
persistent = 0
ignorehitpause = 1
channel = 5
[state ]
type = playsnd
value = 5,410
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 41,>=0
persistent = 0
ignorehitpause = 1
channel = 5

[State ]
type = null;Pause
;-------------------------------------------------
trigger1 = gameTime % 10 = 0
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[State 1101,2]
type = ChangeState
trigger1 = animtime = 0
value = 2221
ctrl = 0

;-----------------------------------------------------------------------
[Statedef 2221]
type = S
movetype = A
physics = N
anim = 2221
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[state ]
type = velset
x = 2
y = -9
trigger1 = animelem = 5

[state ]
type = veladd
y = 0.56
trigger1 = animelem = 5,>0

[state ]
type = playsnd
value = 4,14
trigger1 = animelem = 5
persistent = 0

[State 2021, Explod 2]
type = Explod
trigger1 = animelem = 5
anim = 2040
pos = 0,0
postype = p2
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = -1
supermove = 1
supermovetime = 999
persistent = 0

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 4
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
;---------
;---(1)---
;---------
attr = S, SA
animtype = Up;medium
hitflag = MAF
guardflag = MA
ground.type = low
fall = 1
air.fall = 1
fall.recovertime = 0
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 10,10
;ground.hittime = 17
;ground.slidetime = 17
;
pausetime = 11 - 2,10 - 2
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0 - 6 * (helper(10000),var(23) = 2),-1
;air.velocity = -2,-9.5
;yaccel = .5
;
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 5
;---------
;---(0)---
;---------
damage = 40*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 12,11
pausetime = 11 - 2,10 - 3
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -1,-12      ;-1,-9.5
air.velocity = -2,-9.5
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
;---------
;---(0)---
;---------
damage = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = up
ground.type = low
fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 10,9
pausetime = 11 - 2,10 - 5
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = -2,-9.5
air.velocity = -2,-12   ;-2,-9.5
;yaccel = .5
;
;air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1 && animelem = 5,<0
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];渾?? - root,statedef
type = envshake
triggerall = movehit = 1 && animelem = 5,<0
triggerall = target,gethitvar(hitshaketime) > 0
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1 && animelem = 5,>0
trigger1 = gameTime % 3 = 0
;-------------------------------------------------
anim = -1
movetime = 1
time = 1
endcmdbuftime = 1
ignorehitpause = 1


[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2007
-----------

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;P2 Stateno 1 A
[Statedef 2050]
type = S
movetype = H
physics = N;S
anim = 5002
ctrl = 0
facep2 = 1
velset = 0,0

[State 1250, pos]
type = posset
trigger1 = 1
y = 0
ignorehitpause = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
ignorehitpause = 1

[State 1250, pos]
type = null;posadd
trigger1 = 1
x = -1.2

[State 1250, anim]
type = changeanim
trigger1 = time = 5
value = 5007

[State 1250n state]
type = selfstate
trigger1 = time = 30
value = 0
ctrl = 1

;-------------------------------------------------------
;------------------------------------------------------------------------------
;P2 Stateno 2 B
[Statedef 2051]
type = S
movetype = H
physics = S
anim = 5012
ctrl = 0
facep2 = 1

[State 1250, pos]
type = null;posadd
trigger1 = 1
x = -1.2

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1250, pos]
type = posset
trigger1 = 1
y = 0

[State 1250, anim]
type = changeanim
trigger1 = time = 5
value = 5016

[State 1250n state]
type = selfstate
trigger1 = time = 30
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Super Tembu
[Statedef 2300,]
type = A;S
movetype = A
physics = N;S
anim = 2100 + (helper(10000),var(22) = 3)
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -1000-1000*(prevstateno != [2000,2999])*(var(7)<=0)

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 0,]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000,]
type = PosAdd
trigger1 = AnimTime = 0
x = 10

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 2100,0

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 20,1 + 10*(helper(10000),var(23) - 1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 2100,2

[State 2000,]
type = SuperPause
trigger1 = time = 0
anim = -1
movetime = 18
time = 27
darken = 0

[State 100,]
type = EnvColor
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = Explod
trigger1 = time = 2
anim = 12000 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 9
anim = 12001 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 2301

;--------------------------------------------------------------------------
;Cuando Va
[Statedef 2301]
type = A
movetype = A
physics = N
anim = 2110
velset = 0,0
juggle = helper(10000),var(1)          ;8
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 7
value = SCA

[State 182, 2]
type = HitBy
trigger1 = time >6
value = SCA,SA,HA,AP

[State 1300, vels]
type = Velset
trigger1 = animelem = 1, >= 0
x = 7
y = 6.50

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 200, 2]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,10
animtype = up
hitflag = MAF
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-40
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,13 - 2
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = 0,-2
air.velocity = 0,-2
yaccel = .5
getpower = 0,0
snap = 50,40,0
guard.pausetime = 0,12
guard.velocity = -6
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
kill = 0

[State 950, 4]
type = ChangeState
trigger1 = movehit
value = 2305

[State 950, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 2102

;--------------------------------------------------------------------------
;Pegando
[Statedef 2305]
type = A
movetype = A
physics = N
anim = 2305
velset = 0,0
juggle = 0
ctrl = 0

[State 3005,]
type = width
trigger1 = 1
edge = 40,0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 3001,]
type = AssertSpecial
trigger1 = AnimElem = 1,=1
flag = nofg

[State 1300,]
type = Velset
trigger1 = animelem = 3, >= 0 && animelem = 14, < 0
y = -0.50

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 14
trigger3 = AnimElem = 25
trigger4 = AnimElem = 38
value = 2100,1

[State 1000,]
type = Playsnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10= animelem = 28
trigger11= animelem = 32
trigger12= animelem = 38
trigger13= animelem = 44
trigger14= animelem = 50
value = 4,2

[State EnvColor]
type = EnvColor
trigger1 = time = 0
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 3001, BgPal]
type = envcolor
trigger1 = movehit
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10 = animelem = 28
trigger11 = animelem = 32
trigger12 = animelem = 34
trigger13 = animelem = 38
trigger14 = animelem = 40
trigger15 = animelem = 44
trigger16 = animelem = 46
trigger17 = animelem = 50
time = 1
value = 245,245,245
under = 2

[State 200, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 8
trigger4 = animelem = 10
trigger5 = animelem = 14
trigger6 = animelem = 16
trigger7 = animelem = 20
trigger8 = animelem = 22
trigger9 = animelem = 26
trigger10 = animelem = 28
trigger11 = animelem = 32
trigger12 = animelem = 34
trigger13 = animelem = 38
trigger14 = animelem = 40
trigger15 = animelem = 44
trigger16 = animelem = 46
trigger17 = animelem = 50
attr = S, HA
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 0,1
ground.hittime = 25              ;18
ground.type = high
ground.slidetime = 18
ground.velocity = 0,-3
air.velocity = 0,ifelse((enemy,pos y > -20),-5,-3)              ;0,-3
fall = 1
fall.recover = 0
fall.recovertime = 0
yaccel = .5
ground.cornerpush.veloff = 0
kill = 0
getpower = 0
p2facing =1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 80
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 950, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 2306

;------------------------------------------------------------------------------
;Oriuken Final
[Statedef 2306]
type = A
movetype = A
physics = N
anim = 2306
velset = 0
juggle = 0
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3005, width]
type = width
trigger1 = 1
edge = 40,0

[State 4501, 1]
type = Velset
trigger1 = animelem =1,>0 && animelem = 19,<0
x = 5

[State 4501, 1]
type = Velset
trigger1 = time > 34
x = 2

[State 4501, 1]
type = Velset
trigger1 = animelem =1,>0 && animelem = 20,<0
y = -3

[state 1101,4]
type = veladd
trigger1 = time > 0 
y = .2

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 2000,4

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State EnvColor]
type = EnvColor
trigger1 = MoveHit
value = 245,245,245
time = 1
under = 1
persistent = 0
ignorehitpause = 1

[State 3001, BgPal]
type = envcolor
trigger1 = movehit
trigger1 = animelem = 5
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 18
time = 1
value = 245,245,245
under = 2

[State 1000,]
type = Playsnd
trigger1 = animelem = 4
trigger2 = animelem = 9
trigger3 = animelem = 14
trigger4 = animelem = 17
value = 4,2

[State 220, 2]
type = HitDef
trigger1 = Animelem = 5
trigger2 = Animelem = 10
trigger3 = Animelem = 15
attr = S, HA
damage = (30+50*animelem = 5)*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = back
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 6,6
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -3,-9
air.velocity = -3,-5              ;-3,-9
fall = 1
fall.recover = 0
fall.recovertime = 0
yaccel = .5
p2facing = 1
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State 220, 2]
type = HitDef
trigger1 = Animelem = 18
attr = S, HA
damage = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = up
hitflag = MAF
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-60
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 30,30            ;14,14
ground.hittime = 17
ground.type = high
ground.slidetime = 17
ground.velocity = -3,-8
air.velocity = -3,-8
fall = 1
fall.recover = 0
fall.recovertime = 0
yaccel = .5
p2facing =1
envshake.time = 25           ;13
envshake.ampl = 4
envshake.freq = 100
fall.envshake.time = 12
fall.envshake.ampl = 4
fall.envshake.freq = 100
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[state 1101,4]
type = velset
trigger1 = animelem = 20
y = 3

[state 1101,4]
type = Gravity
trigger1 = animelem = 20

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 17
id = 1150
name = "hasira"
pos = 0,-20
postype = p1
stateno = 1150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 17

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 3,>=0
trigger1 = movehit = 1
ignorehitpause = 1
channel = 5
persistent = 0
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 8,>=0
trigger1 = movehit = 1
ignorehitpause = 1
channel = 5
persistent = 0
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 13,>=0
trigger1 = movehit = 1
ignorehitpause = 1
channel = 5
persistent = 0
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = animelem = 17,>=0
trigger1 = movehit = 1
ignorehitpause = 1
channel = 5
persistent = 0





[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State 1101,2]
type = ChangeState
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 2007

;-------------------------------------------------------------------------
;Patada Kof-2002
[Statedef 2060]
type = S
movetype = A
physics = S
anim = 2060
velset = 0,0
;juggle = IFELSE((PREVSTATENO=430||PREVSTATENO=300),20,(IFELSE(VAR(14)=1,50,0)))
juggle = 0
priority = 1
ctrl = 0
facep2 = 1
;poweradd = -ifelse(var(20)=0,1000,0)
;poweradd = -ifelse(var(7)=0,1000,0)
poweradd = 0;-1000

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[State 197, quake]
type = null;EnvShake
trigger1 = time = 0
time = 10
ampl = 6
freq = 3
supermove = 1

[State 2002, 2002]
type = PalFx
triggerall = (GameTime%2) = 0 && time < 6
trigger1 = prevstateno = 1025
trigger2 = prevstateno = 1202
trigger3 = prevstateno = 1465
trigger4 = prevstateno = 1207
trigger5 = prevstateno = [1400,1460]
trigger6 = prevstateno = [1500,1501]
trigger7 = prevstateno = 1601
trigger8 = prevstateno = 1606
time = 1
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,1
invertall = 0
color = 256
ignorehitpause = 1
SUPERMOVE = 1

[STATE 1,JESUS/HENRY25];          PERSONAJES
type = null;VarSet
trigger1 = var(7) = 0 && var(59) = 0
trigger1 = movehit
trigger1 = animelem = 10
var(7) = 550
ignorehitpause = 1

;-----------------------------------------
;---------------------------------------
;pos = 2,190
;pos = 13,207
;pos = 101,209

;-----------------------------------------------------------

[State 3005,]
type = width
trigger1 = 1
edge = 50,0
;edge = 40,0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 5

[State 1500,]
type = NotHitBy
trigger1 = animelem = 2,<=0
value = SCA

[State 0]
type = posSet
trigger1 = !time
y = 0

[State 2000,]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = 0
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
supermovetime = 9999
sprpriority = -1

[State 2000,]
type = Explod
trigger1 = Time = 6;10
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
supermovetime = 9999
sprpriority = 10

[State 3009,]
type = SuperPause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
time = 28
movetime = 7
anim = -1
darken = 0
p2defmul = 1

[State 2000, EnvColor]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 3
value = 0, 0, 0
time = 28
under = 1

[State 1000, dm sound]
type = Playsnd
trigger1 = Time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3010,0

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 3000,8

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3010,1
channel = 5

[State 1000, dm sound]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = animelem = 2
value = 7,11
ignorehitpause = 1
persistent = 0

[State 1000, dm sound]
type = Playsnd
triggerall = helper(10000),var(23) = 2
trigger1 = movecontact
value = 7,12
ignorehitpause = 1
persistent = 0

[State 3000, 1]
type = posadd
trigger1 = AnimElem = 4
x = 8

[State 3010,3]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 255,255,255
time = 2
under = 1

[State 1150,]
type = HitDef
trigger1 = time = 0
trigger1 = p2statetype != A
attr = S, HA
animtype  = UP
damage = 130*helper(10000),fvar(25),10*helper(10000),fvar(25)
hitflag = MAF
guardflag = M
pausetime = 3,7
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-84
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
;ground.velocity = -2.6,-11
;air.velocity = -2.6,-11
ground.velocity = 0,-11
air.velocity = 0,-11
guard.velocity = -8
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .48
getpower = 0
p2facing =1
;envshake.time = 10
;envshake.ampl = 5
;envshake.freq = 100
;ground.cornerpush.veloff = -14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
id = 2060

[State 1150,]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = UP
damage = 130*helper(10000),fvar(25),10*helper(10000),fvar(25)
hitflag = MAF
guardflag = M
pausetime = 3,7
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-84
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
;ground.velocity = -2.6,-11
;air.velocity = -2.6,-11
ground.velocity = 0,-11
air.velocity = 0,-11
guard.velocity = -8
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .48
getpower = 0
p2facing =1
;envshake.time = 10
;envshake.ampl = 5
;envshake.freq = 100
;ground.cornerpush.veloff = -14
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
id = 2060

[state ];待重置 - root,statedef
type = envshake
triggerall = movehit = [1,10]
;triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = 1;target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[State 3000, 9]
type = ChangeState
triggerall = var(59) = 0
trigger1 = command = "a" || command = "hold_a" || command = "b" || command = "hold_b"
trigger1 = movehit
trigger1 = animelem = 7,<=0
value = 2061

[State 3000, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------
;---statedef 2061---
;-------------------
[Statedef 2061]
type = S
movetype = A
physics = S
anim = 2061;1855
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0

[State 220, 1]
type = PlaySnd
trigger1 = animelem = 10;1
value = 240,0
persistent = 0


[State 0, Width]
type = Width
trigger1 = animelem = 5
edge = 40,0
[State 0, Width]
type = Width
trigger1 = animelem = 6
edge = 50,0
[State 0, Width]
type = Width
trigger1 = animelem = 7
edge = 60,0
[State 0, Width]
type = Width
trigger1 = animelem = 8
edge = 70,0
[State 0, Width]
type = Width
trigger1 = animelem = 9
edge = 80,0


[State 220, 2]
type = HitDef
trigger1 = !movecontact
trigger1 = animelem = 12
;---------
;---(0)---
;---------
damage = 60*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
;---------
;---(1)---
;---------
attr = S, SA
animtype = up
hitflag = MAF
guardflag = MA
ground.type = low
fall = 0
air.fall = 1
fall.recover = 0
fall.recovertime = 0
;p2facing = 1
;---------
;---(2)---
;---------
;pausetime = 25,24            ;15,15
;ground.hittime = 12
;ground.slidetime = 12
;
;pausetime = 11 + 15,13 + 15
pausetime = 18 - 7*(helper(10000),var(23) = 2),18 - 7*(helper(10000),var(23) = 2)
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
;ground.velocity = -5.5,7
;air.velocity = -5.5,7
;yaccel = .55
;ground.cornerpush.veloff = 0
;
ground.velocity = 0 + helper(10000),fvar(10),0 + helper(10000),fvar(11);10
guard.velocity = ifelse(facing != target,facing,-11.5 + helper(10000),fvar(12),11.5 - helper(10000),fvar(12))
airguard.velocity = ifelse(facing != target,facing,-7 + helper(10000),fvar(14),7 - helper(10000),fvar(14)),1 + helper(10000),fvar(15)
air.velocity = -5 + helper(10000),fvar(16),12 + helper(10000),fvar(17)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.xvelocity = ifelse((facing != enemynear,facing) && (enemynear,anim != [5,6]),-3,3)
fall.yvelocity = -4
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-10-(p2statetype = A)*90
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;---------
;---(6)---
;---------
;id = 1608
guard.hittime = 12

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[state ]
type = targetstate
value = 5610
trigger1 = movehit
;trigger1 = helper(10000),var(7) < helper(10000),var(20)
ignorehitpause = 1
persistent = 0

[state ]
type = targetstate
value = 1033
trigger1 = p2stateno = 911 || p2stateno = 932
trigger1 = p2movetype = H
ignorehitpause = 1
persistent = 0

[state ]
type = changestate
value = 2062
triggerall = movehit
trigger1 = animtime = 0
trigger2 = animelem = 14
;ctrl = 1

[state ]
type = changestate
value = 0
triggerall = movehit = 0
trigger1 = animtime = 0
ctrl = 1

;-----------------------
;
[Statedef 2062]
;------------
anim = 2062
movetype= A
type    = S
physics = N
;------------
ctrl = 0
;------------
poweradd = 0;50 * (var(7) <= 0 || helper(10000),var(5) = 0)
juggle  = 0;helper(10000),var(1)

[state ]
type = targetstate
value = 1033
trigger1 = p2stateno = 911 || p2stateno = 932
trigger1 = p2movetype = H
ignorehitpause = 1
persistent = 0

[state a]
type = targetbind
trigger1 = movehit
pos = 20,-20
ignorehitpause = 1
persistent = 0

[state ]
type = posadd
x = 8
trigger1 = animelem = 1
persistent = 0

[State 220, 1]
type = null;PlaySnd
trigger1 = animelem = 1
value = 400,1
;value = 2100,1
channel = 4
ignorehitpause = 1

[State 220, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 7,10
ignorehitpause = 1
persistent = 0

[State 220, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 10,70
channel = 4
ignorehitpause = 1

[State 2062]
type = Pause
trigger1 = gametime%4 = 0
trigger1 = movehit = 0
time = 1
anim = -1
movetime = 0

[state a]
type = statetypeset
trigger1 = animelem = 4
value = A

[state ]
type = posadd
x = 25
trigger1 = animelem = 1
persistent = 0

[state a];20
type = velset
trigger1 = animelem = 5
x = 5;4
y = -5;-4

[state a];
type = veladd
trigger1 = animelem = 7,>0
;y = 0.65
y = 0.2

[state ]
type = gravity
trigger1 = animelem = 8,>=0

[State ]
type = null;Explod
trigger1 = animelem = 2
IgnoreHitPausetime = 1
persistent = 0
anim = 2065
remove = 1
sprpriority = 2
pos = 0,0
postype = p1
bindtime = 0
ownpal = 1
facing = -1

;---------------------[??]
[State 240, 2]
type = HitDef
trigger1 = animelem = 16
;---------
;---(0)---
;---------
damage    = 130*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
priority = 7, Hit
;---------
;---(1)---
;---------
attr = A, SA
guardflag = H
animtype  = Hard;high
air.animtype = Back
ground.type = low;high
air.type = High
fall = 0
air.fall = 1
fall.recover = 0
;---------
;---(2)---
;---------
;pausetime = 8,7
pausetime = 18,18
ground.slidetime = 17
ground.hittime  = 19 + 2
guard.hittime = 19 + 2
guard.ctrltime = 19 + 2
;---------
;---(3)---
;---------
;ground.velocity = -3,12
;air.velocity = -4,12
;guard.velocity = -6
;yaccel = 0.48
;
ground.velocity = 0 + helper(10000),fvar(10),0 + helper(10000),fvar(11);10
guard.velocity = ifelse(facing != target,facing,-11.5 + helper(10000),fvar(12),11.5 - helper(10000),fvar(12))
airguard.velocity = ifelse(facing != target,facing,-7 + helper(10000),fvar(14),7 - helper(10000),fvar(14)),1 + helper(10000),fvar(15)
air.velocity = -8 + helper(10000),fvar(16),20 + helper(10000),fvar(17)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.xvelocity = ifelse((facing != enemynear,facing) && (enemynear,anim != [5,6]),-3,3)
fall.yvelocity = -4
;---------
;---(4)---
;---------
sparkxy = -15,-89
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;---------
;---(6)---
;---------
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[state ]
type = targetstate
value = 5611
trigger1 = movehit
;trigger1 = helper(10000),var(7) < helper(10000),var(20)
ignorehitpause = 1
persistent = 0

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

;---------------------[ヘルパー]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 15
id = 1650
name = "hasira"
pos = 0,0
postype = p1
stateno = 1650
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 15
persistent = 0

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = movehit
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State 200, 3]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 1002

;-------------------
;---statedef 2410---
;-------------------
;鳳凰裂爪脚
[Statedef 2410]
type = A
movetype = A
physics = N
anim = 2410
velset = 0,0
ctrl = 0
poweradd = ifelse(var(7) = 0,-1000,0)
SprPriority = 1

[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = anim = 2410
value = S4,4
channel = 2
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 9
trigger1 = anim = 2410
value = S4,4
channel = 3
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 12
trigger1 = anim = 2410
value = S4,4
channel = 4
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 16
trigger1 = anim = 2410
value = S4,4
channel = 5
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 22
trigger1 = anim = 2410
value = S4,4
channel = 6
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 27
trigger1 = anim = 2410
value = S4,4
channel = 7

[State 4, 5]
type = PlaySnd
triggerall = anim = 2410
trigger1 = AnimElem = 33
trigger2 = AnimElem = 38
value = S4,7
channel = 8

[State 4, 5]
type = PlaySnd
triggerall = anim = 2410
trigger1 = AnimElem = 34
trigger2 = AnimElem = 39
value = S4,8
channel = 9

[state ]
type = varset
var(7) = 0
trigger1 = time = 0
trigger1 = var(7) > 0
trigger1 = helper(10000),var(14) = 3 || helper(10000),var(14) = 5
ignorehitpause = 1

[State 2002, 2002]
type = null;PalFx
trigger1 = prevstateno = 240
trigger2 = prevstateno = 200
trigger3 = prevstateno = 210
trigger4 = prevstateno = 220
trigger5 = prevstateno = 230
trigger6 = prevstateno = 410; && VAR(25) = 0
trigger7 = prevstateno = 1025
trigger8 = prevstateno = 1202
trigger9 = prevstateno = 1465
trigger10 = prevstateno = 1207
trigger11 = prevstateno = [1400,1460]
trigger12 = prevstateno = [1500,1501]
trigger13 = prevstateno = [1000,1800]
;triggerall = (GameTime%2) = 0 && time < 12
triggerall = (time = [0,3]) && gametime%2 = 0
time = 1
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,1
invertall = 0
color = 256
ignorehitpause = 1
SUPERMOVE = 1

[State 2000,]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = 0
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -1

[State 2000,]
type = Explod
trigger1 = Time = 0
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 10

[state ]
type = nothitby
value = SCA,AA,AP,AT
trigger1 = animelem = 2,<=0

[State 3009,]
type = SuperPause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
movetime = 2
time = 32
anim = -1
movetime = 1
darken = 0
p2defmul = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
value = 0, 0, 0
time = 32;28
under = 1

[State 1000, dm sound]
type = Playsnd
trigger1 = Time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3010,0

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 3000,8

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3010,1
channel = 5

;[State 3009,]
;type = Pause
;trigger1 = projhit2411 = 1
;trigger2 = projhit2412 = 1
;trigger3 = projhit2413 = 1
;time = 3
;anim = -1
;movetime = 1

;[State 3009,]
;type = Pause
;trigger1 = projhit2411 = 1
;trigger1 = projhit2412 = 1
;trigger2 = projhit2412 = 1
;trigger2 = projhit2413 = 1
;time = 3
;anim = -1
;movetime = 1

;[State 3009,]
;type = Pause
;trigger1 = projhit2414 = 1,<2
;time = 4
;anim = -1
;movetime = 3

;------------
;---hiteff---
;------------
[State 2000,]
type = Explod
trigger1 = projhit2411 = 1
trigger2 = projhit2411 = 2
trigger3 = projhit2411 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2411
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 2
trigger3 = projhit2412 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2412
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2413 = 1
trigger2 = projhit2413 = 2
trigger3 = projhit2413 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2413
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2414 = 1
trigger2 = projhit2414 = 2
trigger3 = projhit2414 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2414
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2415 = 1
trigger2 = projhit2415 = 2
trigger3 = projhit2415 = 3
trigger4 = projhit2415 = 4
trigger5 = projhit2415 = 5
trigger6 = projhit2415 = 6
anim = 8050 + (helper(10000),var(23) = 2)
id = 2415
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

;-------------
;---vel x,y---
;-------------
[state ]
type = velset
y = -4
x = 3
trigger1 = animelem = 31
ignorehitpause = 1
[state ]
type = veladd
y = 0.5
trigger1 = animelem = 31,>0
trigger1 = animelem = 33,<0
trigger1 = time%2 = 0
ignorehitpause = 1

[state ]
type = posfreeze
trigger1 = animelem = 39
ignorehitpause = 1
[state ]
type = gravity
trigger1 = animelem = 39,>0
ignorehitpause = 1

[State 2412]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 3
trigger2 = animelem = 16
offset = 34,-60
projAnim = 2412
projremove = 0
projremovetime = 16
projID = 2412
projhits = 3
attr = A, HP
animtype  = medium
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
velocity = 2
postype = p1

[State 2411]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 9
offset = 40,25
projAnim = 2411
projremove = 0
projremovetime = 8
projID = 2411
projhits = 3
attr = A, HP
animtype  = hard
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-90
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2415]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 12
offset = 60,-40
projAnim = 2415
projremove = 0
projremovetime = 8
projID = 2415
projhits = 3
attr = A, HP
animtype  = back
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,0;15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-40
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2413]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 22
trigger2 = animelem = 27
offset = 65,-50
projAnim = 2413
projremove = 0
projremovetime = 14
projID = 2413
projhits = 3
attr = A, HP
animtype  = medium
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-25
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1

[State 2414]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 33
trigger2 = animelem = 38
offset = 42,-47
projAnim = 2414
projremove = 0
projremovetime = 22
projID = 2414
projhits = 3
attr = A, HP
animtype  = diagup
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,4
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = -5,-10
air.velocity = -5,-7
yaccel = 0.42
fall = 1
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1
velocity = 0,-1

[state ]
type = posset
y = 0
trigger1 = pos y > 0

[State 3000, 9]
type = Changeanim
trigger1 = animelem = 40,>0
trigger1 = pos y >= 0
value = 1102
[state ]
type = velset
x = 0
y = 0
trigger1 = anim = 1102
[state ]
type = changestate
value = 0
trigger1 = anim = 1102
trigger1 = animtime = 0
ctrl = 1


;-------------------
;---statedef 2450---
;-------------------
;鳳凰裂爪脚
[Statedef 2450]
type = S
movetype = A
physics = N
anim = 2450
velset = 0,0
ctrl = 0
poweradd = 0
SprPriority = 1

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = anim = 2450
value = S4,4
channel = 2
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 15
trigger1 = anim = 2450
value = S4,4
channel = 3
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 20
trigger1 = anim = 2450
value = S4,4
channel = 4
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 28
trigger1 = anim = 2450
value = S4,4
channel = 5
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 36
trigger1 = anim = 2450
value = S4,4
channel = 6
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 41
trigger1 = anim = 2450
value = S4,4
channel = 7

[State 4, 5]
type = PlaySnd
triggerall = anim = 2450
trigger1 = AnimElem = 48
trigger2 = AnimElem = 51
value = S4,7
channel = 8

[State 2002]
type = null;PalFx
trigger1 = prevstateno = 240
trigger2 = prevstateno = 200
trigger3 = prevstateno = 210
trigger4 = prevstateno = 220
trigger5 = prevstateno = 230
trigger6 = prevstateno = 410; && VAR(25) = 0
trigger7 = prevstateno = 1025
trigger8 = prevstateno = 1202
trigger9 = prevstateno = 1465
trigger10 = prevstateno = 1207
trigger11 = prevstateno = [1400,1460]
trigger12 = prevstateno = [1500,1501]
trigger13 = prevstateno = [1000,1800]
;triggerall = (GameTime%2) = 0 && time < 12
triggerall = (time = [0,3]) && gametime%2 = 0
time = 1
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,1
invertall = 0
color = 256
ignorehitpause = 1
SUPERMOVE = 1

[State 2000,]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = 0
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -1

[State 2000,]
type = Explod
trigger1 = Time = 0
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 10

[state ]
type = nothitby
value = SCA,AA,AP,AT
trigger1 = animelem = 2,<=0

[State 3009,]
type = SuperPause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = animelem = 2
time = 25
anim = -1
movetime = 1
darken = 0
p2defmul = 1

[State 100,]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
value = 0, 0, 0
time = 32;28
under = 1

[State 1000, dm sound]
type = Playsnd
trigger1 = Time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3010,0

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 3000,8

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3010,1
channel = 5

[State 3009,]
type = null;Pause
trigger1 = projhit2411 = 1
trigger2 = projhit2412 = 1
trigger3 = projhit2413 = 1
time = 3
anim = -1
movetime = 1

[State 3009,]
type = null;Pause
trigger1 = projhit2411 = 1
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 1
trigger2 = projhit2413 = 1
time = 3
anim = -1
movetime = 1

[State 3009,]
type = null;Pause
trigger1 = projhit2414 = 1,<4
time = 6
anim = -1
movetime = 3

;------------
;---hiteff---
;------------
[State 2000,]
type = Explod
trigger1 = projhit2411 = 1
trigger2 = projhit2411 = 2
trigger3 = projhit2411 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2411
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 2
trigger3 = projhit2412 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2412
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2413 = 1
trigger2 = projhit2413 = 2
trigger3 = projhit2413 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2413
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2414 = 1
trigger2 = projhit2414 = 2
trigger3 = projhit2414 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2414
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2415 = 1
trigger2 = projhit2415 = 2
trigger3 = projhit2415 = 3
trigger4 = projhit2415 = 4
trigger5 = projhit2415 = 5
trigger6 = projhit2415 = 6
anim = 8050 + (helper(10000),var(23) = 2)
id = 2415
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

;---------------
;---guard eff---
;---------------
[State 2000,]
type = Explod
trigger1 = projguarded2411 = 1
trigger2 = projguarded2411 = 2
trigger3 = projguarded2411 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2411
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2412 = 1
trigger2 = projguarded2412 = 2
trigger3 = projguarded2412 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2412
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2413 = 1
trigger2 = projguarded2413 = 2
trigger3 = projguarded2413 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2413
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2414 = 1
trigger2 = projguarded2414 = 2
trigger3 = projguarded2414 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2414
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2415 = 1
trigger2 = projguarded2415 = 2
trigger3 = projguarded2415 = 3
trigger4 = projguarded2415 = 4
trigger5 = projguarded2415 = 5
trigger6 = projguarded2415 = 6
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2415
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

;-------------
;---vel x,y---
;-------------
[state ]
type = velset
y = -6
x = 2
trigger1 = animelem = 46
ignorehitpause = 1
[state ]
type = veladd
x = -0.01
trigger1 = animelem = 47,>0
trigger1 = vel x > 0.5

[state ]
type = veladd
y = 0.5
trigger1 = animelem = 46,>0
trigger1 = animelem = 55,<0
trigger1 = time%2 = 0
ignorehitpause = 1

[state ]
type = posadd
x = -5
trigger1 = animelem = 36

[state ]
type = posfreeze
trigger1 = animelem = 54
ignorehitpause = 1
[state ]
type = gravity
trigger1 = animelem = 54,>0
ignorehitpause = 1

[State 2412]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 7
trigger2 = animelem = 28
offset = 34,-40
projAnim = 2412
projremove = 0
projremovetime = 16
projID = 2412
projhits = 1;3
attr = A, HP
animtype  = medium
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 6,7 + 18 * (p2statetype = A);12,15
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
velocity = 2
postype = p1

[State 2411]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 15
offset = 0,0
projAnim = 2411
projremove = 0
projremovetime = 8
projID = 2411
projhits = 1;3
attr = A, HP
animtype  = hard
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 6,7 + 18 * (p2statetype = A)
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-90
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2415]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 20
offset = 43,-40
projAnim = 2415
projremove = 0
projremovetime = 8
projID = 2415
projhits = 1;3
attr = A, HP
animtype  = back
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,0 + 25 * (p2statetype = A);15
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-40
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2413]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 36
trigger2 = animelem = 41
offset = 55,-50
projAnim = 2413
projremove = 0
projremovetime = 14
projID = 2413
projhits = 1;3
attr = A, HP
animtype  = medium
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 6,1 + 24 * (p2statetype = A)
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-25
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1

[State 2414]
type = Projectile
triggerall = anim != 1102
;trigger1 = animelem = 48
trigger1 = animelem = 51
offset = 42,-47
projAnim = 2414
projremove = 0
projremovetime = 22
projID = 2414
projhits = 2;3
attr = A, HP
animtype  = diagup
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 9,1;12,4
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = -5,-10
air.velocity = -5,-7
yaccel = 0.42
fall = 1
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1
velocity = 0,-1

[state ]
type = posset
y = 0
trigger1 = pos y > 0

[State 3000, 9]
type = Changestate
trigger1 = animelem = 55,>=0
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1002

;-------------------
;---statedef 2410---
;-------------------
;?????
[Statedef 2451]
type = S
movetype = A
physics = S
anim = 2450
velset = 0,0
ctrl = 0
poweradd = 0
SprPriority = 1

[state ]
type = playsnd
value = 4,4
trigger1 = animelem = 5

[State 3009,]
type = Pause
trigger1 = projhit2412 = 1
time = 3
anim = -1
movetime = 1

[State 3009,]
type = Pause
trigger1 = projhit2412 = 1
time = 3
anim = -1
movetime = 1
;------------
;---hiteff---
;------------
[State 2000,]
type = Explod
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 2
trigger3 = projhit2412 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2412
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2412]
type = Projectile
trigger1 = animelem = 5
offset = 10,-30
projAnim = 2412
projremove = 0
projremovetime = 16
projID = 2412
projhits = 1
attr = A, HP
animtype  = medium
damage    = 10*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
velocity = 2
postype = p1
sprpriority = 2

[state ]
type = changestate
value = 0
trigger1 = animtime = 0
ctrl = 1

;-------------------------------------------------------

;-------------------
;---statedef 2460---
;-------------------
;鳳凰裂爪脚
[Statedef 2460]
type = S
movetype = A
physics = N
anim = 2460
velset = 0,0
ctrl = 0
poweradd = ifelse(var(7) = 0,-1000,0)
SprPriority = 1

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = anim = 2460
value = S4,4
channel = 2
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 15
trigger1 = anim = 2460
value = S4,4
channel = 3
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 20
trigger1 = anim = 2460
value = S4,4
channel = 4
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 30
trigger1 = anim = 2460
value = S4,4
channel = 5
[State 4, 5]
type = PlaySnd
trigger1 = AnimElem = 39
trigger1 = anim = 2460
value = S4,4
channel = 6
[State 4, 5]
type = PlaySnd
triggerall = anim = 2460
trigger1 = AnimElem = 47
trigger2 = AnimElem = 51
trigger3 = AnimElem = 57
value = S4,4
channel = 7

[State 4, 5]
type = PlaySnd
triggerall = anim = 2460
trigger1 = AnimElem = 64
trigger2 = AnimElem = 68
value = S4,7
channel = 8

[state ]
type = varset
var(7) = 0
trigger1 = time = 0
trigger1 = var(7) > 0
ignorehitpause = 1

[State 2002]
type = null;PalFx
trigger1 = prevstateno = 240
trigger2 = prevstateno = 200
trigger3 = prevstateno = 210
trigger4 = prevstateno = 220
trigger5 = prevstateno = 230
trigger6 = prevstateno = 410; && VAR(25) = 0
trigger7 = prevstateno = 1025
trigger8 = prevstateno = 1202
trigger9 = prevstateno = 1465
trigger10 = prevstateno = 1207
trigger11 = prevstateno = [1400,1460]
trigger12 = prevstateno = [1500,1501]
trigger13 = prevstateno = [1000,1800]
;triggerall = (GameTime%2) = 0 && time < 12
triggerall = (time = [0,3]) && gametime%2 = 0
time = 1
add = 256,256,256
mul = 256,256,256
sinadd = 256,256,256,1
invertall = 0
color = 256
ignorehitpause = 1
SUPERMOVE = 1

[State 2000,]
type = Explod
trigger1 = Time = 0
anim = 12000 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = -1

[State 2000,]
type = Explod
trigger1 = Time = 0
anim = 12001 + (helper(10000),var(23) - 1) * 5
pos = -4,-60
postype = p1
facing = 1
ownpal = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
sprpriority = 10

[state ]
type = nothitby
value = SCA,AA,AP,AT
trigger1 = animelem = 2,<=0

[State 3009,]
type = SuperPause
trigger1 = animelem = 2
time = 25
anim = -1
movetime = 1
darken = 0
p2defmul = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
value = 0, 0, 0
time = 32;28
under = 1

[State 1000, dm sound]
type = Playsnd
trigger1 = Time = 0
value = 20,1 + 10*(helper(10000),var(23) - 1)

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3010,0

[State 3000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 3000,8

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3010,1
channel = 5

[State 3009,]
type = null;Pause
trigger1 = projhit2411 = 1
trigger2 = projhit2412 = 1
trigger3 = projhit2413 = 1
time = 3
anim = -1
movetime = 1

[State 3009,]
type = null;Pause
trigger1 = projhit2411 = 1
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 1
trigger2 = projhit2413 = 1
time = 3
anim = -1
movetime = 1

[State 3009,]
type = null;Pause
trigger1 = projhit2414 = 1,<2
time = 3
anim = -1
movetime = 1
ignorehitpause = 0

;-------------
;---hit eff---
;-------------
[State 2000,]
type = Explod
trigger1 = projhit2411 = 1
trigger2 = projhit2411 = 2
trigger3 = projhit2411 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2411
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2412 = 1
trigger2 = projhit2412 = 2
trigger3 = projhit2412 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2412
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2413 = 1
trigger2 = projhit2413 = 2
trigger3 = projhit2413 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2413
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2414 = 1
trigger2 = projhit2414 = 2
trigger3 = projhit2414 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2414
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

[State 2000,]
type = Explod
trigger1 = projhit2415 = 1
trigger2 = projhit2415 = 2
trigger3 = projhit2415 = 3
trigger4 = projhit2415 = 4
trigger5 = projhit2415 = 5
trigger6 = projhit2415 = 6
anim = 8050 + (helper(10000),var(23) = 2)
id = 2415
remove = 1
removetime = 12
pos = -4,-60
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2


;-----------------
;---guarded eff---
;-----------------
[State 2000,]
type = Explod
trigger1 = projguarded2411 = 1
trigger2 = projguarded2411 = 2
trigger3 = projguarded2411 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2411
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2412 = 1
trigger2 = projguarded2412 = 2
trigger3 = projguarded2412 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2412
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2413 = 1
trigger2 = projguarded2413 = 2
trigger3 = projguarded2413 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2413
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2414 = 1
trigger2 = projguarded2414 = 2
trigger3 = projguarded2414 = 3
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2414
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

[State 2000,]
type = Explod
trigger1 = projguarded2415 = 1
trigger2 = projguarded2415 = 2
trigger3 = projguarded2415 = 3
trigger4 = projguarded2415 = 4
trigger5 = projguarded2415 = 5
trigger6 = projguarded2415 = 6
anim = 7212 + (helper(10000),var(22) - 1) * 20
id = 2415
remove = 1
removetime = 12
pos = 10,-60
postype = p2
ownpal = 1
supermove = 1
sprpriority = 2
facing = -1

;-------------
;---vel x,y---
;-------------
[state ]
type = velset
y = -6
x = 3
trigger1 = animelem = 61
ignorehitpause = 1
[state ]
type = veladd
y = 0.5
trigger1 = animelem = 61,>0
trigger1 = animelem = 70,<0
trigger1 = time%2 = 0
ignorehitpause = 1

[state ]
type = posadd
x = -5
trigger1 = animelem = 47

[state ]
type = posfreeze
trigger1 = animelem = 70
ignorehitpause = 1
[state ]
type = gravity
trigger1 = animelem = 70,>0
ignorehitpause = 1

[State 2412]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 7
trigger2 = animelem = 39
offset = 34,-40
projAnim = 2412
projremove = 0
projremovetime = 16
projID = 2412
projhits = 1;3
attr = A, HP
animtype  = medium
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15 + 10 * (p2statetype = A)
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
velocity = 2
postype = p1

[State 2411]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 15
trigger2 = animelem = 31
offset = 0,0
projAnim = 2411
projremove = 0
projremovetime = 8
projID = 2411
projhits = 1;3
attr = A, HP
animtype  = hard
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15 + 10 * (p2statetype = A)
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-90
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2415]
type = null;Projectile
triggerall = anim != 1102
trigger1 = animelem = 20
offset = 50,-40
projAnim = 2415
projremove = 0
projremovetime = 8
projID = 2415
projhits = 1;3
attr = A, HP
animtype  = back
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,0;15
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-40
hitsound   = S5,5 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
postype = p1

[State 2413]
type = Projectile
triggerall = anim != 1102
trigger1 = animelem = 21
trigger2 = animelem = 47
trigger3 = animelem = 52
trigger4 = animelem = 57
offset = 55,-50
projAnim = 2413
projremove = 0
projremovetime = 14
projID = 2413
projhits = 1
attr = A, HP
animtype  = medium
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,15 + 10 * (p2statetype = A)
guard.pausetime = 6,12 + 13 * (p2statetype = A)
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,-25
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = 0,0
air.velocity = 0,0
yaccel = 0.42
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1
velocity = 0,-2.5

[State 2414]
type = Projectile
triggerall = anim != 1102
;trigger1 = animelem = 48
trigger1 = animelem = 64
trigger2 = animelem = 69
offset = 42,-47
projAnim = 2414
projremove = 0
projremovetime = 22
projID = 2414
projhits = 1;2
attr = A, HP
animtype  = diagup
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 3,2
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = 0,0
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 37
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = -5,-10
air.velocity = -5,-7
yaccel = 0.42
fall = 1
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1
velocity = 0,-2.5

[state ]
type = posset
y = 0
trigger1 = pos y > 0

[State 3000, 9]
type = Changestate
trigger1 = animelem = 70,>=0
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1002

;-------------------------------------------------------

;-------------------------------------------------------
;Esp. Comun Corta
[Statedef 2500]
type = S
movetype = A
physics = S
anim = 2500
velset = 0,0
ctrl = 0
juggle = 0             ;helper(10000),var(1)           ;10
poweradd = 0

[State 1000: Helper]
type = Helper
trigger1 = helper(10000),var(22) = 3
helpertype = Normal
name = "Bg-Color"
id = 7830
pos = 0, 0 ;50
postype = left
facing = 1
stateno = 7830
keyctrl = 0
ownpal = 1
ontop = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = animelem = 1
persistent = 0

[state ]
type = varset
var(7) = 1
trigger1 = var(7) > 0
trigger1 = helper(10000),var(3) != 2
persistent = 0

[State 0]
type = posSet
trigger1 = !time
y = 0

[State 1000,]
type = null;Playsnd
trigger1 = AnimElem = 1
;value = 2000,0
value = 191,2

[State 3000, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3010,0

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3010,1
channel = 5
persistent = 0

[State 1000,]
type = Playsnd
trigger1 = AnimElem = 1
value = 20,0 + 10*(helper(10000),var(23) - 1)

[state ]
type = nothitby
value = SCA,AA,AP,AT
trigger1 = animelem = 3,<0

[State 2000,]
type = SuperPause
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0
anim = -1
movetime = 5
time = 32
darken = 0

[State 100,]
type = EnvColor
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 1

[State 2000, EnvColor]
type = null;EnvColor
trigger1 = time = 0
value = 0, 0, 0
time = 32;28
under = 1

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 0;2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 0;9
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 3,-60
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 0,1

[State 1000, velset]
type = velset
trigger1 = AnimElem = 4
x = 20

[State 3005, width]
type = width
trigger1 = 1
edge = 40,0

[State 200, 2]
type = HitDef
trigger1 = animelem = 5;Time = 0
attr = S, HA
damage = 70*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard
ground.type = Low
hitflag = MAFD
guardflag = M
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = 0,-15
hitsound = S5,3 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;pausetime = 50,50
;pausetime = 11,13
pausetime = 9,11
getpower = 0
;snap = 60,0,0
ground.hittime = 26;12
ground.slidetime = 12
;guard.pausetime = 0,12
;guard.pausetime = 50,50
guard.hittime = 12
airguard.velocity = -4,-4
ground.cornerpush.veloff = 0
fall.recover = 0
;envshake.time = 12
;envshake.freq = 3
;envshake.ampl = -5
;envshake.phase = 0
p2stateno = 2505

[State 220,]
type = HitDef
trigger1 = animelem = 10
;---------
;---(0)---
;---------
damage = 130*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, HA
hitflag = MAF
guardflag = M
animtype = back
ground.type = high
fall = 1
air.fall = 1
fall.recover = 0
Fall.recovertime = 0
;---------
;---(2)---
;---------
;pausetime = 11,12
;guard.pausetime = 11,12
;ground.hittime = 17
;ground.slidetime = 17
;
pausetime = 11,13
guard.pausetime = 11,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime  = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
;ground.velocity = -5,-7
ground.velocity = -5,-9.5;-8
air.velocity = -5,-7
yaccel = .5;.55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-70
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;---------
;---(6)---
;---------
;envshake.time = 4
;envshake.freq = 2
;envshake.ampl = 10
;
;envshake.time = 6
;envshake.ampl = 6
;envshake.freq = 10
;
;envshake.time = 10             ;13
;envshake.ampl = 6
;envshake.freq = 180
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[state ]
type = envshake
triggerall = animelem = 5,>=0
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 11-7
time = 2
ampl = -4
freq = 180
ignorehitpause = 1

[state ]
type = envshake
triggerall = animelem = 10,>=0
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 11-8
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 8;6
;value = 2000,3
value = 2000,4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 10
;value = 3000,6
;value = 3000,7
;value = 3000,2
value = 3000,8


[State 2414]
type = null;Projectile
triggerall = anim != 1102
trigger1 = animelem = 10
trigger2 = animelem = 14
offset = 42,-47
projAnim = 2414
projremove = 0
projremovetime = 22
projID = 2414
projhits = 1;3
attr = A, HP
animtype  = diagup
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9, Hit
getpower = 0,0
hitflag = MAFDP
guardflag = M
pausetime = 12,4
guard.pausetime = 6,12
sparkno = -1;s8050 + (helper(10000),var(23) = 2)
sparkxy = -10,0
hitsound   = S5,6 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = high;low
ground.slidetime = 17
ground.hittime  = 17
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
ground.velocity = -5,-10
air.velocity = -5,-7
yaccel = 0.42
fall = 1
fall.recover = 0
envshake.time = 3
envshake.freq = 2
envshake.ampl = -5
envshake.phase = 0
SprPriority = 2
postype = p1
velocity = 0,-1

[State 2000,]
type = null;Explod
trigger1 = projhit2414 = 1
trigger2 = projhit2414 = 2
trigger3 = projhit2414 = 3
anim = 8050 + (helper(10000),var(23) = 2)
id = 2414
remove = 1
removetime = 12
pos = -4,-80
postype = p2
facing = random%2;1
ownpal = 1
vfacing = 1
supermove = 1
sprpriority = 2

;-------------
;---vel x,y---
;-------------
[State 3009,]
type = null;Pause
trigger1 = animelem = 8,>0 && animelem = 10,<0
trigger1 = gametime%2 = 0
trigger1 = movecontact
time = 2
anim = -1
movetime = 1



[State 1000, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
statetype = A
physics = N
[State 1000, Pos]
type = PosAdd
Trigger1 = Animelem = 8
x = 20


[state ]
type = velset
x = 2;3
y = -6;-4
trigger1 = animelem = 8
ignorehitpause = 1
[state ]
type = veladd
y = 0.5
trigger1 = animelem = 8,>0
;trigger1 = animelem = 10,<0
;trigger1 = time%2 = 0
ignorehitpausetime = 1

[state ]
type = posset
y = 0
trigger1 = pos y > 0

[State 3000, 9]
type = Changeanim
trigger1 = animelem = 14,>0
trigger1 = pos y >= 0
value = 1102
[state ]
type = velset
x = 0
y = 0
trigger1 = anim = 1102
trigger2 = animelem = 5,>0
trigger2 = animelem = 6,<0
trigger2 = movehit


;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 8
id = 1150
name = "hasira"
pos = 0,0
postype = p1
stateno = 1150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 12
trigger1 = animelem = 8
persistent = 0

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 8,>=0
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0


[state ]
type = changestate
value = 0
trigger1 = anim = 1102
trigger1 = animtime = 0
ctrl = 1
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Stand get-hit (shaking)
[Statedef 2505]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = 1;Time = 0
;trigger1 = GetHitVar(animtype) != [3,5]
value = 5012

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = null;StateTypeSet
trigger1 = Time = 1
movetype = I

[State 5000, 7]
type = ChangeState
trigger1 = time > 1
trigger1 = HitShakeOver
value = 2506;5030

;---------------------------------------------------------------------------
; Stand get-hit (knocked back)
[Statedef 2506]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------


;---------------------------------------------------------------------------


; MAX鳳凰脚・ヒット
[Statedef 2208]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2208
sprpriority = 1
ctrl = 0

[state ]
type = pause
time = 1
movetime = 0
trigger1 = gametime%6 = 0
trigger1 = animelem = 98,>0
trigger1 = animelem = 104,<0
;98
;104

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 13;22
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 67
value = 2000, 2

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 102
value = 2000, 3

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 1
trigger2 = animelem = 4
trigger3 = animelem = 10
trigger4 = animelem = 16
trigger5 = animelem = 22
trigger6 = animelem = 25
trigger7 = animelem = 33
trigger8 = animelem = 61
time = 1
value = 255,255,255
under = 2

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 69
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


[State 0, AfterImage]
type = AfterImage
trigger1 = time = 69
time = 100
timegap = 2
length = 5
framegap = 2
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state ]
type = targetvelset
y = 0
trigger1 = !time
ignorehitpause = 1
[state a]
type = targetbind
trigger1 = !time
pos = 38,0
ignorehitpause = 1

[state a]
type = statetypeset
trigger1 = animelem = 75
value = A

[state a]
type = posadd
trigger1 = animelem = 75
y = -9

[state a]
type = velset
trigger1 = animelem = 75
x = 15
y = -3;-4


[state a]
type = veladd
trigger1 = animelem = 98,>0
;y = 0.25
y = 0.3

[state a]
type = velmul
trigger1 = animelem = 77,>0
x = 0.95

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = time = 0
edge = 90,0

[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 74,>0
edge = 30,0


;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 26
trigger6 = animelem = 29
trigger7 = animelem = 32
trigger8 = animelem = 35
trigger9 = animelem = 38
trigger10= animelem = 41
attr = A, HA
animtype  = mid;hard
;damage    = 42 + var(8)*19,5
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-68 - random%20
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200 +random%2
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 2050

[state ]
type = targetstate
value = 2050 + random%2
id = 2050
triggerall = hitpausetime = 1
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 26
trigger6 = animelem = 29
trigger7 = animelem = 32
trigger8 = animelem = 35
trigger9 = animelem = 38
trigger10= animelem = 41
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1= animelem = 50
attr = A, HA
animtype  = mid;hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -5,-68 - random%20
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = high
ground.slidetime = 18
ground.hittime  = 180
ground.velocity = -4,0
air.velocity = -4.2,0
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 2050


[State 210, 2]
type = HitDef
trigger1 = animelem = 60
attr = A, HA
animtype  = hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-58 - random%20
hitsound   = s5,1 + (random%2)*2 +(helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
air.velocity = 0,0
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = 2050

[State 210, 2]
type = HitDef
trigger1 = animelem = 68
attr = A, HA
animtype  = hard
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 0,1
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-58 - random%20
hitsound   = s5,1 + (random%2)*2 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
fall = 1
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 77
trigger2 = animelem = 83
trigger3 = animelem = 89
attr = A, HA
animtype  = high
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 8,9
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-69
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-6.5
;air.velocity = -2,-6.5
air.velocity = -2,-3.5
guard.velocity = -11
yaccel = 0.42
fall = 1
fall.recover = 0
kill = 0
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State 240, 2]
type = HitDef
trigger1 = animelem = 95
attr = A, HA
animtype  = high
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 8,9
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-69
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-9.5
air.velocity = -2,-9.5
guard.velocity = -11
yaccel = 0.42
fall = 1
fall.recover = 0
kill = 0
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


[State 240, 2]
type = HitDef
trigger1 = animelem = 105
attr = A, SA
animtype  = up
damage    = 50*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 25,23
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-89
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = 0,12
;air.velocity = 0,12
guard.velocity = -6
yaccel = 0.48
fall = 1
fall.recover = 0
envshake.time = 22
envshake.ampl = -8
envshake.freq = 92
envshake.phase = 92
id = 2206
;
air.velocity = -11 + helper(10000),fvar(16),20 + helper(10000),fvar(17)
fall.xvelocity = ifelse((facing != enemynear,facing) && (enemynear,anim != [5,6]),-3,3)
fall.yvelocity = -4
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10


;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 69,< 0
pos = 38,0

[state a]
type = null;targetstate
trigger1 = time = 0
trigger2 = animelem = 69,<0
trigger2 = movehit = 1
value = 2020+random%2

[State ]
type = Pause
;-------------------------------------------------
trigger1 = animelem = 105,>=0
trigger1 = movehit > 2
trigger1 = gameTime % 9 = 0
;-------------------------------------------------
anim = -1
movetime = 1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ]
type = targetstate
value = 5610
trigger1 = movehit > 0 && numtarget(2206) > 0
trigger1 = target(2206),statetype = A
trigger1 = HitPauseTime = 1
id = 2206
ignorehitpause = 1
persistent = 0

[state ]
type = null;targetstate
value = 900;1706
id = 2206
trigger1 = animelem = 105,>=0
trigger1 = movehit
trigger1 = numtarget(2206) > 0
trigger1 = hitpausetime = 1
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 104
id = 1650
name = "hasira"
pos = 0,0
postype = p1
stateno = 1650
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 4,10
triggerall = palno = 102
trigger1 = animelem = 105,=-10
persistent = 0

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 104,>0
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = movehit
trigger1 = animelem = 105,>=0
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State ]
type = Pause
;-------------------------------------------------
triggerall = palno = 12
trigger1 = movehit
trigger1 = gameTime % 10 = 0
trigger1 = animelem = 104,>=0
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 76
trigger2 = animelem = 82
trigger3 = animelem = 88
trigger4 = animelem = 94
id = 1150
name = "hasira"
pos = 0,0
postype = p1
stateno = 1150
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 77,>=0
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 83,>=0
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 89,>=0
ignorehitpause = 1
persistent = 0
channel = 5
[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
trigger1 = animelem = 95,>=0
ignorehitpause = 1
persistent = 0
channel = 5

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2007

;---------------------------------------------------------------------------


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 秘伝鳳凰脚
[Statedef 2600]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= -1000-1000*(prevstateno != [2000,2999])*(var(7)<=0)
anim = 2600
ctrl = 0
sprpriority = 1

[state ]
type = varset
var(7) = 0
trigger1 = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = time <= 36
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = superPause
trigger1 = time = 1
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = time = 3
anim = 13000
sprpriority = -1;-9999
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 1000, 5]
type = Explod
trigger1 = Time = 13
anim = 13001
sprpriority = 3
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 3040, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 4
value = 255,255,255
under = 2

[State 3040, 7]
type = EnvColor
trigger1 = time = 5
persistent = 0
ignorehitpause = 1
time = 24
value = 0,0,0
under = 2

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 20,2

;---------------------[ヘルパー]
[state a];MAX2
type = Helper
trigger1 = time = 1;29
id = 13010
name = "MAX2"
pos = 0,0
postype = p2
stateno = 13010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a];カットイン
type = Helper
trigger1 = time = 0
id = 13020
name = "cut"
pos = 0 , 0
postype = p1
stateno = 13020
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[効果音]
[State 2000, 6];行くぞ！
type = PlaySnd
trigger1 = animelem = 1
value = 2600,0

[State 2000, 6];鳳凰
type = PlaySnd
trigger1 = animelem = 5
value = 2200,0

[State 2000, 6];脚
type = PlaySnd
trigger1 = time = 55
value = 2600,1


[State 2000, 6];ダッシュ
type = PlaySnd
trigger1 = animelem = 5
value = 2600,4

;---------------------[移動]
[state a]
type = posadd
trigger1 = animelem = 1
trigger2 = animelem = 2
x = 12

[state a]
type = statetypeset
trigger1 = animelem = 5
value = A

[state a]
type = velset
trigger1 = animelem = 5
x = 12

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImage
trigger1 = animelem = 5
time = -1
;trans = none
timegap = 2
framegap = 2
length = 6
ignorehitpause = 0
;palbright = 0,0,0
palcontrast = 256,256,256
;palpostbright = 0,0,0
;paladd = 0,0,0
palmul = 1,1,1

[State a]
type = EnvColor
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 1
value = 255,255,255
under = 2

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

[State a]
type = EnvColor
trigger1 = movehit
time = 1
value = 255,255,255
;under = 2
ignorehitpause = 1
persistent = 0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 5
attr = A, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = MAFLD
guardflag = M
pausetime = 16,17
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -24,-52
hitsound   = s1250,2
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
fall = 1
fall.recover = 0
kill = 0
p2facing = 1
p1stateno = 2610
p2stateno = 2051

;---------------------[]
[State 821, 3] 
type = changeState
trigger1 = time = 66 || moveguarded
value = 2605

;----------------------------------------------------------------------------
; 秘伝鳳凰脚・終了
[Statedef 2605]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 2605
sprpriority = 1
ctrl = 0

;---------------------[コマンド判定]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

;---------------------[移動]
[state a]
type = velset
trigger1 = time = 0
y = 0

[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; 秘伝鳳凰脚・ヒット
[Statedef 2610]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 2610
sprpriority = 1
ctrl = 0

;---------------------[サウンド]
[State a];あたたた
type = PlaySnd
trigger1 = animelem = 3
value = 2600, 2

[State a];たたた
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
;trigger5 = animelem = 31
;trigger6 = animelem = 36
;trigger7 = animelem = 43
;trigger8 = animelem = 52
;trigger9 = animelem = 56
;trigger10= animelem = 59
;trigger11= animelem = 60
value = 2600, 3

[State a];たたた
type = PlaySnd
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
;trigger5 = animelem = 31
;trigger6 = animelem = 36
;trigger7 = animelem = 43
;trigger8 = animelem = 52
;trigger9 = animelem = 56
;trigger10= animelem = 59
;trigger11= animelem = 60
value = 2600, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 59;61
value = 2200, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 59;61
value = 2200, 3

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 61
value = 1250, 2

[State a];蹴り
type = PlaySnd
trigger1 = animelem = 52
value = 2600, 5

[State a];鳴き声
type = PlaySnd
trigger1 = animelem = 60
value = 2600, 6
;---------------------[エフェクト]
[State 50, 4];残像
type = null;AfterImagetime
trigger1 = time = 0
value = 0

[State a]
type = EnvColor
trigger1 = animelem = 10
trigger2 = animelem = 16
trigger3 = animelem = 20
trigger4 = animelem = 22
trigger5 = animelem = 31
trigger6 = animelem = 36
trigger7 = animelem = 43
trigger8 = animelem = 52
trigger9 = animelem = 56
trigger10= animelem = 59
trigger11= animelem = 60
trigger12= animelem = 61
trigger13= animelem = 1
time = 1
value = 255,255,255
;under = 2

[State 50, 4];残像
type = null;AfterImage
trigger1 = animelem = 68
time = -1
trans = none
timegap = 2
framegap = 2
length = 5
ignorehitpause = 1
palbright = 3,3,64
;palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

;---------------------[移動]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state a]
type = velset
trigger1 = time = 0
x = 1

[state a]
type = velset
trigger1 = animelem = 50
x = 0


[state a]
type = statetypeset
trigger1 = animelem = 51
value = A

[state a]
type = velset
trigger1 = animelem = 51
x = 2
y = -8;-7

[state a]
type = veladd
trigger1 = animelem = 51,>0
trigger1 = animelem = 57,<0
trigger1 = vel y < -0.3
y = 0.3

[state a]
type = veladd
trigger1 = animelem = 57,>0
trigger1 = vel y < 6
y = 0.3;0.52


[state a]
type = velmul
trigger1 = animelem = 58,>0
x = 0.91

;---------------------[無敵]
[State 700, 2];無敵の状態を作る
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 52,<0
edge = 90,0

;---------------------[ヘルパー]
[state a];柱
type = Helper
trigger1 = animelem = 47;59
id = 2620
name = "hasira"
pos = 46,0
postype = p1
stateno = 2620
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State ]
type = Pause
;-------------------------------------------------
triggerall = animelem = 58,>0
triggerall = animelem = 61,<0
trigger1 = gameTime % 3 = 0
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 20
trigger5 = animelem = 22
trigger6 = animelem = 31
attr = S, HA
animtype  = hard
;damage    = 52 + var(8)*19,5
damage    = 20*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-38 - random%50
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-6
air.velocity = -4.2,-6
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 36
attr = S, HA
animtype  = hard
;damage    = 62 + var(8)*19,5
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-12
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1,-4
air.velocity = -1.2,-4
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 210, 2]
type = HitDef
trigger1 = animelem = 43
attr = S, HA
animtype  = hard
;damage    = 62 + var(8)*19,5
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 3,4
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-76
hitsound   = s1350,2
guardsound = s120,1
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-7
air.velocity = -2.2,-7
ID = 200
nochainID = 9999
fall = 0
fall.recover = 0
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0



[State 240, 2]
type = HitDef
trigger1 = animelem = 52
trigger2 = animelem = 56
attr = A, HA
animtype  = high
;damage    = 79+var(8)*10,8
damage    = 50*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 2,3
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -10,-52
hitsound   = s1350,2
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-5.8
;air.velocity = -2,-5.8
air.velocity = -2,-12.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 59
trigger2 = animelem = 60
attr = A, HA
animtype  = high
;damage    = 79+var(8)*10,8
damage    = 50*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
;pausetime = 7,7
pausetime = 5,6
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-89
hitsound   = s1250,2
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-8.8
;air.velocity = -2,-8.8
air.velocity = -2,-12.8
guard.velocity = -11
yaccel = 0.48
fall = 1
fall.recover = 0
ID = 9999
kill = 0

[State 240, 2]
type = HitDef
trigger1 = animelem = 61
attr = A, HA
animtype  = diagup
;damage    = 358+var(8)*10,8
damage    = 140*helper(10000),fvar(25),10*helper(10000),fvar(25)
priority = 9999, Hit
getpower = 0,0
guardflag = N
pausetime = 34,35;27,28
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-89
hitsound   = s1250,2
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
guardsound = s120,1
ground.type = high
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -2,-14
;air.velocity = -2,-14
air.velocity = -2,-17
guard.velocity = -6
yaccel = 0.38
fall = 1
fall.recover = 0
ID = 9999

;---------------------[相手制御]
[state a]
type = targetbind
trigger1 = animelem = 43,< 0
pos = 56,0

[state a]
type = targetstate
trigger1 = time = 0
trigger2 = animelem = 46,<0
trigger2 = movehit = 1
value = 2050+random%2


;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 2615

;---------------------------------------------------------------------------
; 秘伝鳳凰脚・着地
[Statedef 2615]
type    = S
movetype= A
physics = N
juggle  = 7
poweradd= 0
velset = 0,0
anim = 2615
sprpriority = 1
ctrl = 0

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = 1

;---------------------[エフェクト]
[State 50, 4];残像
type = AfterImagetime
trigger1 = time = 0
value = 0

;---------------------[サウンド]
[State a];
type = PlaySnd
trigger1 = animelem = 1
value = S0, 2

;---------------------[速度]
[state a]
type = posset
trigger1 = time = 0
y = 0

[state ]
type = changeanim
value = 6070
trigger1 = animelem = 2,=20;3
persistent = 0

[State a];
type = PlaySnd
trigger1 = anim = 6070
value = S10, 5
persistent = 0

;---------------------[立ちステートに戻る]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
;(HELPER)柱
[Statedef 2620]
type = S
ctrl = 0
anim = 2620
velset = 0,0
physics = N
sprpriority = -5

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[ヘルパー]
[state a];鳳凰
type = Helper
trigger1 = time = 0
id = 2625
name = "hasira"
pos = 0,0
postype = p1
stateno = 2625
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 256

[state a]
type = varadd
trigger1 = time <= 20
v = 1
value = -10

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = angledraw
trigger1 = 1
scale = 1.0,1.5 + var(2) * 0.1

;---------------------[変数]
[state a]
type = varadd
trigger1 = animelem = 13,>=0
v = 2
value = 1

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;----------------------------------------------------------------------------
;(HELPER)鳳凰
[Statedef 2625]
type = S
ctrl = 0
anim = 2625
velset = 0,0
physics = N
sprpriority = -3

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = 256

[state a]
type = varadd
trigger1 = time <= 20
v = 1
value = -10

;---------------------[速度]
[state a]
type = veladd
trigger1 = animelem = 8,>=0
y = -2;1.2

;---------------------[当身関係]
[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = null;angledraw
trigger1 = 1
scale = 1.0,1.5

;---------------------[変数]
[state a]
type = null;varadd
trigger1 = var(1) = 1
v = 2
value = 8

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),var(1)

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; ゼロ距離鳳凰脚
[Statedef 2650]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= -1000-1000*(prevstateno != [2000,2999])*(var(7)<=0)
anim = 2650
ctrl = 0
sprpriority = 1

[state ]
type = varset
var(7) = 0
trigger1 = 1

;---------------------[無敵]
[state a]
type = nothitby
trigger1 = animelem = 30,<=0
value = SCA
time = 1

;---------------------[超必殺技演出]
[state a]
type = null;removeexplod
trigger1 = time = 0
id = 3000

[State 2000, 2]
type = superPause
trigger1 = animelem = 3
time = 28
movetime = 28
anim = -1
darken = 0

[State 1000, 5]
type = Explod
trigger1 = animelem = 5
anim = 13000
sprpriority = -1;-9999
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

[State 1000, 5]
type = Explod
trigger1 = animelem = 15
anim = 13001
sprpriority = 3
postype = p1
pos = 15,-69
bindtime = 1
under = 0
ownpal = 1
pausemovetime = 999
supermovetime = 999
persistent = 0

;---------------------[ヘルパー]
[state a];MAX2
type = null;Helper
trigger1 = animelem = 3;time = 29
id = 13010
name = "MAX2"
pos = 0,0
postype = p2
stateno = 13010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a];カットイン
type = null;Helper
trigger1 = time = 0
id = 13020
name = "cut"
pos = 0 , 0
postype = p1
stateno = 13020
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ヘルパー]
[state a];MAX2
type = Helper
trigger1 = animelem = 3
id = 13010
name = "MAX2"
pos = 0,0
postype = p2
stateno = 13010
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1
persistent = 0

[state a];カットイン
type = null;Helper
trigger1 = animelem = 1
id = 13020
name = "cut"
pos = 0 , 0
postype = p1
stateno = 13020
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[効果音]

[State 2000, 6]
type = PlaySnd
trigger1 = Time = 1
value = 20,2
persistent = 0

[State 2000, 6]
type = PlaySnd
trigger1 = animelem = 1
value = 10,60
persistent = 0

;---------------------[移動]
[state ]
type = velset
x = 6
trigger1 = animelem = 31
persistent = 0

[state ]
type = velset
x = 0
trigger1 = animelem = 44,>=0

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = animelem = 1
edge = 24,0

[state a]
type = targetbind
trigger1 = movehit
pos = 60,0

;---------------------[攻撃]
[State 210, 2]
type = HitDef
trigger1 = !movecontact
attr = S, HA
animtype  = hard
damage    = 0,0
priority = 8, Hit
getpower = 0,0
hitflag = M
guardflag = ;M
;pausetime = 16,17
pausetime = 2,41
sparkno = -1;S7206 + (helper(10000),var(22) - 1) * 20
sparkxy = -24,-52
hitsound   = -1;s1250,2
guardsound = -1;s120,1
guard.sparkno = -1;S7212 + (helper(10000),var(22) - 1) * 20
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
air.velocity = 0,0
kill = 0
p2facing = 1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = movehit
edge = 90,0

[State 821, 3] 
type = changeState
triggerall = animelem = 41
trigger1 = movehit
trigger2 = target,stateno = [2050,2051]
value = 2651

;---------------------[]
[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------
[Statedef 2651]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2651
ctrl = 0
sprpriority = 1

;---------------------[演出]
[State 210, Width];画面端の押し戻し判定
type = Width
trigger1 = 1
edge = 90,0

;---------------------[サウンド]
[State a];あたたたたたー
type = PlaySnd
trigger1 = animelem = 1
value = 2000, 1

[State a];あたー
type = PlaySnd
trigger1 = animelem = 43
value = 2000, 2

[State 4510, 13]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 9
trigger3 = animelem = 18
trigger4 = animelem = 27
trigger5 = animelem = 28
trigger6 = animelem = 35
trigger7 = animelem = 44
trigger8 = animelem = 55
getpower = 0,0
attr = S, HA
damage    = 30*helper(10000),fvar(25),10*helper(10000),fvar(25)
animtype = hard;heavy
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 2 ,4     ;0 ,1
sparkno = S7205 + (helper(10000),var(22) - 1) * 20;S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20 + (random%2 * 10),-60 + (random%2 * 10) - 30 * (animelem = 27) + 50 * (animelem = 35)
hitsound   = S5,2 + (helper(10000),var(22) - 1) * 200         ;s5,2
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0 - 5.5 * (animelem = 55),0;-10
getpower = 0
kill = 0
p2facing =1
fall = 0
air.fall = 0

[state a]
type = targetbind
trigger1 = movehit = 1
pos = 60,0
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];柱
type = Helper
trigger1 = animelem = 48
id = 2620
name = "hasira"
pos = 46,0
postype = p1
stateno = 2620
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = targetstate
value = 2050
trigger1 = animelem = 55,>0
trigger1 = p2statetype = A
persistent = 0

[state ]
type = targetstate
value = 2051
trigger1 = movehit = 1
trigger1 = animelem = 55,<0
ignorehitpause = 1

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 2652

;---------------------------------------------------
[Statedef 2652]
type    = A
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 2652
ctrl = 0
sprpriority = 1

[State a];鳴き声
type = PlaySnd
trigger1 = animelem = 1
value = 2600, 6

[State a];うわちゃー！
type = PlaySnd
trigger1 = animelem = 2
value = 2000, 3

[state ]
type = posadd
x = 8
trigger1 = animelem = 1
trigger2 = animelem = 2

[state ]
type = velset
x = 3
y = -10
trigger1= animelem = 2
persistent = 0

[state ]
type = veladd
y = 0.6
trigger1 = animelem = 2,> 1


[State 220, 2]
type = HitDef
trigger1 = !movecontact
;---------
;---(0)---
;---------
damage = 200*helper(10000),fvar(25),10*helper(10000),fvar(25)
getpower = 0,0
givepower = 25,12
air.juggle = 0
;---------
;---(1)---
;---------
attr = A, HA
hitflag = MAF
guardflag = ;MA
animtype = hard
ground.type = high
fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 18,18
guard.pausetime = 11,11
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
;ground.velocity = -5,-7
ground.velocity = -5,-11.5
air.velocity = -4.5 + helper(10000),fvar(14),-7 + helper(10000),fvar(15)
yaccel = .55
ground.cornerpush.veloff = 0
;---------
;---(4)---
;---------
sparkno = S7205 + (helper(10000),var(22) - 1) * 20 + (var(7) > 0) * 3
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -20,-40
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200;---------
;---(6)---
;---------
;
palfx.time = (31 + (enemynear,statetype = A)*20)*(palno = 12)
palfx.color = 0
palfx.invertall = 0
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10

[State ]
type = Pause
;-------------------------------------------------
trigger1 = movehit = 1
trigger1 = gameTime % 2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10;17 - 7
;-------------------------------------------------
anim = -1
movetime = 0;1
time = 1
endcmdbuftime = 1
ignorehitpause = 1

[state ];待重置 - root,statedef
type = envshake
triggerall = movehit = 1
triggerall = target,gethitvar(hitshaketime) > 0;var(8) = 1
triggerall = gametime%2 = 0
trigger1 = target,gethitvar(hitshaketime) > 18-10
time = 2
ampl = -6
freq = 180
ignorehitpause = 1

[state ]
type = posset
y = 0
trigger1 = animtime = 0

;---------------------[目?由奈]
[state flame];
type = Helper
triggerall = palno = 12
trigger1 = animelem = 4
id = 1050
name = "hasira"
pos = 0,0
postype = p1
stateno = 1050
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[state ]
type = playsnd
value = 5,410
trigger1 = palno = 12
trigger1 = movehit = 1
ignorehitpause = 1
persistent = 0
channel = 5

[state ]
type = RemoveExplod
id = 1350
trigger1 = numexplod(1350)
trigger1 = animelem = 1
IgnoreHitPause = 1
persistent = 0

[State ]
type = Explod
triggerall = palno = 12
trigger1 = movehit
IgnoreHitPausetime = 1
persistent = 0
anim = 1350
id = 1350
remove = 1
sprpriority = 2
pos = -47,-43
postype = p2
bindtime = 99
ownpal = 1

[State 821, 3] 
type = changeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------

;Rescatada Aire
[Statedef 2510]
;------------
anim = 2510
movetype= A
type    = A
physics = N;A
;------------
ctrl = 0
;------------
poweradd = 0
juggle  = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 100
timegap = 1
length = 9
framegap = 3
palcolor = 10
palbright = 55,55,100
palcontrast = 145,145,230
paladd = 0,0,0
palmul = 1,1,1

[State 1000, fterimagetime]
type = Afterimagetime
trigger1 = gametime%2 = 0
time = 2

[State 0,]
type = NotHitBy
trigger1 = animelem = 3,<=0
value = SCA

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 2100,0

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000,]
type = SuperPause
trigger1 = var(7) <= 0 || helper(10000),var(14) != 2
trigger1 = animelem = 2
anim = -1
movetime = 2
time = 27
darken = 0
persistent = 0

[state 2000]
type = poweradd
value = -1000
trigger1 = var(7) = 0
trigger1 = time = 0

[State 100,]
type = EnvColor
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = time = 2
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = time = 2
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[state ]
type = playerpush
value = 0
trigger1 = enemy,statetype != A
trigger1 = vel y = [-2,2]

[state ]
type = posadd
y = -10
trigger1 = !time

[State 200, 1]
type = null;PlaySnd
trigger1 = AnimElem = 2
value = 1300,0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4,2

[state ]
type = posfreeze
trigger1 = animelem = 3,<0
trigger1 = anim = 2510

[state ]
type = velset
x = 6
y = 7.5
trigger1 = animelem = 4
trigger1 = anim = 2510

[State 210, 2]
type = HitDef
trigger1 = animelem = 6
;---------
;---(0)---
;---------
damage = 75
getpower = 0,0
givepower = 75,37
;---------
;---(1)---
;---------
attr = A, HA
hitflag = MAF
guardflag = HA
animtype = UP
ground.type = high
air.type = high
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 13,12
ground.hittime = 18
ground.slidetime = 6
guard.hittime = 18
guard.ctrltime = 18
;---------
;---(3)---
;---------
ground.velocity = 0,-13
guard.velocity = -7
air.velocity = 0,-13
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .50
;---------
;---(4)---
;---------
sparkxy = -10,-20
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
;---------
;---(5)---
;---------
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200

;-----------------
;hitfallset = 1
;yvel = -9
;fall.yvelocity = -10

[State 300]
type = EnvShake
trigger1 = movehit
time = 3
ampl = 2;-3
freq = 90
phase = 90;20
ignorehitpause = 1
persistent = 0

[state ]
type = changeanim
value = 1102
trigger1 = anim = 2510
trigger1 = pos y >= 5

[state ]
type = velset
x = 0
y = 0
trigger1 = pos y >= 5

[state ]
type = posset
y = 0
trigger1 = pos y >= 5

[state ]
type = changestate
value = 0
ctrl = 1
trigger1 = anim = 1102 && animtime = 0

[state ]
type = changestate
value = 2511;1302
trigger1 = command = "a" || command = "b"
trigger1 = command = "holdfwd"
trigger1 = anim = 1102




;-------------------
;---statedef 2511---
;-------------------
[Statedef 2511]
type = S
movetype = A
physics = S
anim = 2511
velset = 0,0
ctrl = 0

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000,]
type = SuperPause
trigger1 = var(7) <= 0 || helper(10000),var(14) != 2
trigger1 = animelem = 4
anim = -1
movetime = 2
time = 27
darken = 0
persistent = 0

[State 100,]
type = EnvColor
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = animelem = 4
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = animelem = 4
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 0,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[state ]
type = posset
y = 0
trigger1 = !time

[state ]
type = changestate
value = 2511
elem = 7
triggerall = animelem = 7,>0
trigger1 = command = "hold_b"
trigger1 = command = "hold_a"

[state ]
type = changestate
value = 2512
triggerall = animelem = 7,>0
trigger1 = command != "hold_b"
trigger1 = command != "hold_a"



[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 8,=1
value = 240,0
channel = 3

[State 0, Width]
type = Width
trigger1 = animelem = 5
edge = 40,0
[State 0, Width]
type = Width
trigger1 = animelem = 6
edge = 50,0
[State 0, Width]
type = Width
trigger1 = animelem = 7
edge = 60,0
[State 0, Width]
type = Width
trigger1 = animelem = 8
edge = 70,0
[State 0, Width]
type = Width
trigger1 = animelem = 9
edge = 80,0

[State 220, 2]
type = HitDef
trigger1 = animelem = 10
attr = S, SA
damage = 20,5
animtype = hard;up
hitflag = MAF
guardflag = H            ;MA
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -25,-60
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 12,13        ;10,11
guard.pausetime = 12,20
ground.hittime = 16      ;13
ground.type = low
ground.slidetime = 13
ground.velocity = ifelse((enemynear,stateno = [120,160]),-9,-2),16
air.velocity = -2,16
fall = 1
fall.recover = 0
fall.recovertime = 0
ground.cornerpush.veloff = -15
id = 1608
envshake.time = 6
envshake.ampl = 5
envshake.freq = 100
getpower = ifelse(helper(10000),var(6) != 0,0,100),ifelse(helper(10000),var(6) != 0,0,50)


[State 1002, 4]
type = Targetstate
trigger1 = movehit > 0 && numtarget(1608) > 0
trigger1 = numtarget(1608)
trigger1 = HitPauseTime = 1
value = 1711
id = 1608
ignorehitpause = 1
persistent = 0

[state ]
type = changestate
value = 2513;0
trigger1 = animtime = 0

;-------------------
;---statedef 2512---
;-------------------
[Statedef 2512]
type = S
movetype = A
physics = S
anim = 2512
velset = 0,0
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 240,0
channel = 3

[State 0, Width]
type = Width
trigger1 = animelem = 1
edge = 60,0
[State 0, Width]
type = Width
trigger1 = animelem = 2
edge = 70,0
[State 0, Width]
type = Width
trigger1 = animelem = 3
edge = 80,0

[State 220, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
damage = 20,5
animtype = hard;up
hitflag = MAF
guardflag = H            ;MA
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -25,-60
hitsound = S5,4 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
pausetime = 12,13        ;10,11
guard.pausetime = 12,20
ground.hittime = 16      ;13
ground.type = low
ground.slidetime = 13
ground.velocity = ifelse((enemynear,stateno = [120,160]),-9,-2),16
air.velocity = -2,16
fall = 1
fall.recover = 0
fall.recovertime = 0
ground.cornerpush.veloff = -15
id = 1608
envshake.time = 6
envshake.ampl = 5
envshake.freq = 100
getpower = ifelse(helper(10000),var(6) != 0,0,100),ifelse(helper(10000),var(6) != 0,0,50)


[State 1002, 4]
type = Targetstate
trigger1 = movehit > 0 && numtarget(1608) > 0
trigger1 = numtarget(1608)
trigger1 = HitPauseTime = 1
value = 1711
id = 1608
ignorehitpause = 1
persistent = 0

[state ]
type = changestate
value = 2513;0
trigger1 = animtime = 0


;-------------------------------------------------------------------------

;-------------------------------------------------------------------------
;Pisoton Fuerte
[Statedef 2513]
type = S
movetype = A
physics = S
anim = 2513
poweradd = 50 * (var(7) <= 0)
juggle = 0;helper(10000),var(1)                     ;6
velset = 0,0
ctrl = 0

[State 1000,]
type = Playsnd
trigger1 = time = 0
value = 20,0 + 10*(helper(10000),var(23) - 1)

[State 2000,]
type = SuperPause
trigger1 = var(7) <= 0 || helper(10000),var(14) != 2
trigger1 = animelem = 4
anim = -1
movetime = 2
time = 27
darken = 0
persistent = 0

[State 100,]
type = EnvColor
trigger1 = Time = [0,2]
value = 255,255,255
time = 1
under = 1

[State 2000]
type = Explod
triggerall = !(var(7) > 0 && helper(10000),var(3) = 2)
trigger1 = animelem = 3
anim = 11000 + (helper(10000),var(23) - 1) * 5
pos = 30,-65
sprpriority = -3
ownpal = 1
bindtime = 1
supermove = 1

[State 2000]
type = Explod
trigger1 = animelem = 3
anim = 11001 + (helper(10000),var(23) - 1) * 5
pos = 30,-65
sprpriority = 20
ownpal = 1
bindtime = 1
supermove = 1

[State 1000,]
type = Posadd
trigger1 = time = 0
x = 7

[State 1000,]
type = Posadd
;trigger1 = animelem = 4
trigger1 = animelem = 6
x = 4

[State 220, 1]
type = PlaySnd
;trigger1 = AnimElem = 4
trigger1 = animelem = 6
value = 3000,9

[State 200, 1]
type = PlaySnd
;trigger1 = AnimElem = 3
trigger1 = animelem = 5
value = 1500,0

[State 3001, Explod 1]
type = Explod
;trigger1 = animelem = 4
trigger1 = animelem = 6
anim = 7035
pos = 50,0
postype = p1
under = 1
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = -1

[State 3001, Explod 2]
type = Explod
;trigger1 = animelem = 4
trigger1 = animelem = 6
anim = 7036
pos = 50,0
postype = p1
removetime = -2
bindtime = 1
ontop = 0
ownpal = 1
sprpriority = 3

[State 220, 2]
type = HitDef
trigger1 = animelem = 6
;---------
;---(0)---
;---------
damage = 70,10
getpower = 0,0
givepower = 25,12
;---------
;---(1)---
;---------
attr = S, SA
hitflag = MAFD
guardflag = L
animtype = hard;up
ground.type = low
;fall = 1
;fall.recover = 0
;fall.recovertime = 0
;---------
;---(2)---
;---------
pausetime = 12,ifelse(p2statetype = L,25,5);12
ground.hittime = 17
ground.slidetime = 17
guard.hittime = 17
guard.ctrltime = 17
;---------
;---(3)---
;---------
ground.velocity = 0,0;10
air.velocity = -3,10
down.velocities = -3,-3
;---------
;---(4)---
;---------
sparkno = S7206 + (helper(10000),var(22) - 1) * 20
guard.sparkno = S7212 + (helper(10000),var(22) - 1) * 20
sparkxy = -15,-10
;---------
;---(5)---
;---------
hitsound = -1;S5,5 + (helper(10000),var(22) - 1) * 200
guardsound = S6,1 + (helper(10000),var(22) - 1) * 200
;---------
;---(6)---
;---------
;nochainid = 1502
id = 1502
;fall.yvel = 100
;hitfallset = 1
;yaccel = -4.9;5.5

[State 1002, 4]
type = Targetstate
trigger1 = movehit > 0 && numtarget(1502) > 0
trigger1 = HitPauseTime = 1
trigger1 = target,statetype != L
value = 1711
id = 1502
ignorehitpause = 1
persistent = 0

[State 1002, 4]
type = Targetstate
trigger1 = movehit > 0 && numtarget(1502) > 0
trigger1 = HitPauseTime = 1
trigger1 = target,statetype = L
value = 12100
id = 1502
ignorehitpause = 1
persistent = 0

[State 197, quake]
type = EnvShake
;trigger1 = AnimElem = 4
trigger1 = animelem = 6
time = 15
ampl = 4
freq = 70

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
